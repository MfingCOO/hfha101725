"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7961],{5557:(e,a,l)=>{l.d(a,{D:()=>ef});var t=l(95155),s=l(12115),r=l(51834),n=l(13406),i=l(3998),o=l(17037),d=l(51190),c=l(63263),u=l(92033),m=l(18202),h=l(21356),g=l(98457),x=l(32078),v=l(5282),p=l(35437),f=l(64269),b=l(61680),y=l(30926);let j=(0,y.createServerReference)("70723fb11b519ba808cbf8fc8db79240b752b8382a",y.callServer,void 0,y.findSourceMapURL,"deleteData");var N=l(15894),w=l(92658),S=l(28127),C=l(62593),A=l(27314),k=l(66065),M=l(59828),F=l(13630),T=l(52619),D=l.n(T);function I(e){let{isOpen:a,onClose:l,event:n}=e,{toast:o}=(0,N.dj)(),[d,c]=(0,s.useState)(!1),m=async()=>{if(null==n?void 0:n.id){c(!0);try{let e=await (0,w.A)(n.id);if(e.success)o({title:"Appointment Cancelled",description:"The appointment has been removed from your calendar."}),l(!0);else throw Error(e.error||"Failed to cancel appointment.")}catch(e){o({variant:"destructive",title:"Error",description:e.message})}finally{c(!1)}}};if(!n)return null;let h=new Date(n.start),g=new Date(n.end),x=n.description&&n.description.trim().length>0,p=n.videoCallLink&&n.videoCallLink.trim().length>0;return(0,t.jsx)(r.lG,{open:a,onOpenChange:()=>l(!1),children:(0,t.jsxs)(r.Cf,{className:"w-[90vw] max-w-md",children:[(0,t.jsxs)(r.c7,{children:[(0,t.jsx)(r.L3,{children:n.title}),(0,t.jsx)(r.rr,{children:"Details for your upcoming appointment."})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(S.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium",children:"Date"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:(0,v.GP)(h,"PPPP")})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(C.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium",children:"Time"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"".concat((0,v.GP)(h,"p")," - ").concat((0,v.GP)(g,"p"))})]})]}),n.coachName&&(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(A.A,{className:"h-5 w-5 text-muted-foreground"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium",children:"With Coach"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:n.coachName})]})]}),x&&(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(k.A,{className:"h-5 w-5 mt-1 text-muted-foreground"}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("p",{className:"font-medium",children:"Notes from Coach"}),(0,t.jsx)("p",{className:"text-muted-foreground whitespace-pre-wrap",children:n.description})]})]})]}),(0,t.jsxs)(r.Es,{className:"flex-col-reverse sm:flex-row sm:justify-between gap-2",children:[p?(0,t.jsx)(i.$,{asChild:!0,className:"w-full sm:w-auto",children:(0,t.jsxs)(D(),{href:n.videoCallLink,target:"_blank",children:[(0,t.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"Join Appointment"]})}):(0,t.jsx)("div",{}),(0,t.jsxs)("div",{className:"flex gap-2 w-full sm:w-auto",children:[(0,t.jsxs)(i.$,{variant:"destructive",onClick:m,disabled:d,className:"flex-1 sm:flex-auto",children:[d?(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(F.A,{className:"mr-2 h-4 w-4"}),"Cancel"]}),(0,t.jsx)(r.HM,{asChild:!0,children:(0,t.jsx)(i.$,{variant:"outline",className:"flex-1 sm:flex-auto",children:"Close"})})]})]})]})})}var E=l(55723);let P={nutrition:"bg-amber-500 border-amber-700",activity:"bg-orange-500 border-orange-700",sleep:"bg-indigo-500 border-indigo-700","sleep-nap":"bg-indigo-500/70 border-indigo-600",hydration:"bg-blue-500 border-blue-700",stress:"bg-red-600 border-red-800",relief:"bg-green-500 border-green-700",measurements:"bg-gray-500 border-gray-700",protocol:"bg-teal-500 border-teal-700",planner:"bg-lime-500 border-lime-700",craving:"bg-orange-600 border-orange-800",binge:"bg-red-600 border-red-800",habit:"bg-yellow-500 border-yellow-700",appointment:"bg-purple-500 border-purple-700",default:"bg-gray-500 border-gray-700"},L=e=>{if(!e)return null;if("function"==typeof e.toDate)return e.toDate();if(e instanceof Date)return e;let a=new Date(e);return isNaN(a.getTime())?null:a},R=e=>{let{entry:a,onSelect:l,isHighlighted:s}=e,r=a.originalData.displayPillar||a.originalData.pillar||"default",n=p.J[r]||p.J.default,i=n.icon,o=P[r]||P.default;return(0,t.jsx)("div",{id:"timeline-entry-".concat(a.id),style:{top:"".concat(a.top,"%"),height:"".concat(a.height,"%"),left:"".concat(a.left,"%"),width:"".concat(a.width,"%"),padding:"1px"},className:(0,f.cn)("absolute rounded-lg overflow-hidden cursor-pointer transition-all duration-300",o,s&&"ring-2 ring-offset-2 ring-offset-background ring-white"),onClick:()=>l(a.originalData),children:(0,t.jsxs)("div",{className:"relative flex items-center gap-1 p-1 text-white h-full bg-black/20 rounded-md",children:[(0,t.jsx)(i,{className:"h-4 w-4 flex-shrink-0"}),(0,t.jsx)("span",{className:"text-[10px] font-medium truncate",children:n.getTitle(a.originalData)})]})})};function O(e){let{client:a,selectedDate:l,entries:r,isLoading:n,onDateChange:f,onEntryChange:y,highlightedEntryId:w}=e,{toast:S}=(0,N.dj)(),[C,A]=(0,s.useState)(null),[k,M]=(0,s.useState)(null),[F,T]=(0,s.useState)(null),D=(0,s.useRef)(null),[P,O]=(0,s.useState)(!1),[H,z]=(0,s.useState)("");(0,s.useEffect)(()=>{z(Intl.DateTimeFormat().resolvedOptions().timeZone)},[]);let U=(0,s.useMemo)(()=>H?((e,a,l)=>{if(!e||0===e.length||!l)return[];let t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0,0),s=e.map(e=>{let a=null,l=null,s=L(e.entryDate),r=L(e.indulgenceDate),n=L(e.start),i=L(e.end);return("sleep"===e.pillar&&s?(a=s,l=(0,m.L)(a,e.duration||0)):"activity"===e.pillar&&s?(a=s,l=(0,h.z)(a,e.duration||15)):"appointment"===e.pillar&&n&&i?(a=n,l=i):"planner"===e.pillar&&r?(a=r,l=(0,h.z)(a,15)):s&&(a=s,l=(0,h.z)(a,30)),a&&l)?{...e,id:e.id,startMinutes:Math.max(0,(0,g.o)(a,t)),endMinutes:Math.min(1440,(0,g.o)(l,t)),originalData:e}:null}).filter(e=>null!==e&&e.endMinutes>e.startMinutes).sort((e,a)=>e.startMinutes-a.startMinutes||a.endMinutes-e.endMinutes),r=[],n=[];for(let e of s){let a=!1;for(let l of n)if(l.some(a=>e.startMinutes<=a.endMinutes&&e.endMinutes>=a.startMinutes)){l.push(e),a=!0;break}a||n.push([e])}for(let e of n){e.sort((e,a)=>e.startMinutes-a.startMinutes);let a=[];for(let l of e){let e=!1;for(let t=0;t<a.length;t++)if(a[t].every(e=>l.startMinutes>e.endMinutes)){a[t].push(l),e=!0;break}e||a.push([l])}let l=100/a.length;for(let e=0;e<a.length;e++)for(let t of a[e]){let a=Math.max(1,t.endMinutes-t.startMinutes)/1440*100;r.push({id:t.id,top:t.startMinutes/1440*100,height:Math.max(a,2.0833),left:e*l,width:l,originalData:t.originalData})}}return r})(r,l,H):[],[r,l,H]);(0,s.useEffect)(()=>{let e;if(!n&&!P&&D.current){if(w){let a=U.find(e=>e.id===w);if(a){let l=D.current.clientHeight;e=a.top/100*1440-l/2+a.height/100*1440/2}}else{var l;let t,s=r.find(e=>"sleep"===e.pillar&&!e.isNap);if(s&&s.wakeUpTime?t=s.wakeUpTime:(null==(l=a.onboarding)?void 0:l.wakeTime)&&(t=a.onboarding.wakeTime),t){let[a,l]=t.split(":").map(Number);e=(60*a+l-30)/60*60}}void 0!==e&&setTimeout(()=>{D.current&&(D.current.scrollTo({top:Math.max(0,e),behavior:"smooth"}),O(!0))},150)}},[n,a,w,U,P,r]);let V=e=>{if("appointment"===e.pillar)return void T(e);let a=e.pillar,l=p.S.find(e=>e.id===a);l?(M(l),A(e)):S({variant:"destructive",title:"Error",description:"Could not identify the type of this entry."})},q=e=>{A(null),M(null),e&&y()},G=async()=>{if(!C)return;let{pillar:e,id:t}=C,s=await j(e,t,a.uid);if(s.success){S({title:"Entry Deleted"});let e=l.toISOString().split("T")[0],t=l.getTimezoneOffset();await (0,E.d)(a.uid,e,H,t),q(!0)}else S({variant:"destructive",title:"Error",description:s.error})},B=e=>{O(!1),f((0,x.f)(l,e))},J=Array.from({length:24},(e,a)=>a);return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex-shrink-0 p-2 flex justify-between items-center border-b",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>B(-1),children:(0,t.jsx)(d.A,{className:"h-5 w-5"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold",children:(0,v.GP)(l,"PPP")}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>B(1),children:(0,t.jsx)(c.A,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"flex-1 min-h-0 relative flex",children:[n&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50 z-20",children:(0,t.jsx)(u.A,{className:"h-8 w-8 animate-spin"})}),(0,t.jsx)(o.F,{className:"h-full w-full",viewportRef:D,children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"w-12 flex-shrink-0 pr-1 border-r",children:J.map(e=>(0,t.jsx)("div",{className:"h-[60px] text-right relative -top-2.5",children:(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground pr-1",children:(0,v.GP)(new Date(0,0,0,e),"ha")})},e))}),(0,t.jsxs)("div",{className:"relative flex-1",children:[J.map(e=>(0,t.jsx)("div",{className:"h-[60px] border-b"},e)),U.map(e=>(0,t.jsx)(R,{entry:e,onSelect:V,isHighlighted:e.id===w},e.id))]})]})})]}),C&&k&&(0,t.jsx)(b.X,{open:!!C,onOpenChange:q,pillar:k,initialData:C,onDelete:G,userId:a.uid}),(0,t.jsx)(I,{isOpen:!!F,onClose:e=>{T(null),e&&y()},event:F})]})}var H=l(8773),z=l(39089),U=l(63146),V=l(9941),q=l(76273);let G={nutrition:"bg-amber-500",activity:"bg-orange-500",sleep:"bg-indigo-500",hydration:"bg-blue-500",stress:"bg-red-600",relief:"bg-green-500",measurements:"bg-gray-500",protocol:"bg-teal-500",planner:"bg-lime-500",craving:"bg-orange-600",binge:"bg-red-600",habit:"bg-yellow-500",default:"bg-gray-400"};function B(e){let{client:a,selectedDate:l,setSelectedDate:r,setActiveTab:n,entries:o,isLoading:m,onDateChange:h}=e,g=(0,s.useMemo)(()=>(0,H.k)({start:(0,z.k)(l),end:(0,U.$)(l)}),[l]),p=e=>{h("next"===e?(0,x.f)(l,7):(0,V.e)(l,7))},b=(0,s.useMemo)(()=>{let e=new Map;for(let a of o){let l=(0,v.GP)(new Date(a.entryDate||a.wakeUpDay),"yyyy-MM-dd");e.has(l)||e.set(l,[]),e.get(l).push(a)}return e},[o]);return(0,t.jsxs)("div",{className:"flex flex-col h-full p-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-shrink-0",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>p("prev"),children:(0,t.jsx)(d.A,{className:"h-5 w-5"})}),(0,t.jsxs)("h3",{className:"text-base font-semibold",children:[(0,v.GP)(g[0],"MMM d")," - ",(0,v.GP)(g[6],"MMM d, yyyy")]}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>p("next"),children:(0,t.jsx)(c.A,{className:"h-5 w-5"})})]}),m?(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-8 w-8 animate-spin"})}):(0,t.jsx)("div",{className:"grid grid-cols-7 gap-1 flex-1",children:g.map(e=>{let a=(0,v.GP)(e,"yyyy-MM-dd"),l=Array.from(new Set((b.get(a)||[]).map(e=>e.displayPillar||e.pillar)));return(0,t.jsxs)("div",{onClick:()=>{r(e),n("day")},className:(0,f.cn)("flex flex-col border rounded-md p-1.5 cursor-pointer hover:bg-muted/50 transition-colors",(0,q.c)(e)&&"bg-primary/10 border-primary/30"),children:[(0,t.jsxs)("div",{className:"flex justify-between items-center text-xs",children:[(0,t.jsx)("span",{className:(0,f.cn)("font-semibold",(0,q.c)(e)?"text-primary":"text-muted-foreground"),children:(0,v.GP)(e,"EEE")}),(0,t.jsx)("span",{className:(0,f.cn)("flex items-center justify-center h-5 w-5 rounded-full",(0,q.c)(e)&&"bg-primary text-primary-foreground font-bold"),children:(0,v.GP)(e,"d")})]}),(0,t.jsx)("div",{className:"flex-1 mt-2",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:l.map(e=>(0,t.jsx)("div",{title:e,className:(0,f.cn)("h-1.5 w-1.5 rounded-full",G[e]||G.default)},e))})})]},a)})})]})}var J=l(90231),$=l(79894),_=l(52226),W=l(41962),Y=l(73181),X=l(55350);let K={nutrition:"bg-amber-500",activity:"bg-orange-500",sleep:"bg-indigo-500",hydration:"bg-blue-500",stress:"bg-red-600",relief:"bg-green-500",measurements:"bg-gray-500",protocol:"bg-teal-500",planner:"bg-lime-500",craving:"bg-orange-600",binge:"bg-red-600",habit:"bg-yellow-500",default:"bg-gray-400"};function Z(e){let{client:a,selectedDate:l,setSelectedDate:r,setActiveTab:n,entries:o,isLoading:m,onDateChange:h}=e,g=(0,s.useMemo)(()=>(0,J.w)(l),[l]),x=(0,s.useMemo)(()=>{let e=(0,J.w)(g),a=(0,$.p)(g);return(0,H.k)({start:e,end:a})},[g]),p=(0,_.P)(x[0]),b=e=>{h("next"===e?(0,W.P)(g,1):(0,Y.a)(g,1))},y=(0,s.useMemo)(()=>{let e=new Map;for(let a of o){let l=(0,v.GP)(new Date(a.entryDate||a.wakeUpDay),"yyyy-MM-dd");e.has(l)||e.set(l,[]),e.get(l).push(a)}return e},[o]);return(0,t.jsxs)("div",{className:"flex flex-col h-full p-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2 flex-shrink-0",children:[(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>b("prev"),children:(0,t.jsx)(d.A,{className:"h-5 w-5"})}),(0,t.jsx)("h3",{className:"text-base font-semibold",children:(0,v.GP)(g,"MMMM yyyy")}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",onClick:()=>b("next"),children:(0,t.jsx)(c.A,{className:"h-5 w-5"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-7 text-center text-xs text-muted-foreground pb-2 border-b mb-1",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,t.jsx)("div",{children:e},e))}),m?(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-8 w-8 animate-spin"})}):(0,t.jsxs)("div",{className:"grid grid-cols-7 gap-1 flex-1",children:[Array.from({length:p}).map((e,a)=>(0,t.jsx)("div",{className:"border-b"},"empty-".concat(a))),x.map(e=>{let a=(0,v.GP)(e,"yyyy-MM-dd"),l=Array.from(new Set((y.get(a)||[]).map(e=>e.displayPillar||e.pillar)));return(0,t.jsxs)("div",{onClick:()=>{r(e),n("day")},className:(0,f.cn)("flex flex-col border-b p-1.5 cursor-pointer hover:bg-muted/50 transition-colors h-20",!(0,X.t)(e,g)&&"text-muted-foreground"),children:[(0,t.jsx)("span",{className:(0,f.cn)("font-semibold text-xs",(0,q.c)(e)&&"bg-primary text-primary-foreground rounded-full flex items-center justify-center h-5 w-5"),children:(0,v.GP)(e,"d")}),(0,t.jsx)("div",{className:"flex-1 mt-1 overflow-hidden",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-0.5",children:l.slice(0,9).map(e=>(0,t.jsx)("div",{title:e,className:(0,f.cn)("h-1 w-1 rounded-full",K[e]||K.default)},e))})})]},a)})]})]})}let Q=(0,y.createServerReference)("7860252fdb807c714fca5cbd103687c3675284f6f8",y.callServer,void 0,y.findSourceMapURL,"getCalendarDataForDay");var ee=l(74640),ea=l(74206),el=l(69693),et=l(12784),es=l(11140),er=l(15039),en=l(75004),ei=l(95409),eo=l(13496),ed=l(80991);let ec={Energy:{value:2e3,unit:"kcal",description:"The energy your body needs to function. Optimal intake depends on activity level and goals."},Protein:{value:1.2,unit:"g/kg",description:"Essential for building muscle, repairing tissue, and creating hormones. Crucial for satiety and hunger management."},"Total lipid (fat)":{value:78,unit:"g",description:"Provides energy and supports cell growth, hormone production, and nutrient absorption."},"Carbohydrate, by difference":{value:275,unit:"g",description:"The body's primary source of energy, but quality matters. Focus on complex carbs from whole foods."},"Vitamin D (D2 + D3)":{value:4e3,unit:"IU",description:"Critical for immune function, hormone balance, and mood. Optimal levels are linked to reduced inflammation and cravings."},"Vitamin C, total ascorbic acid":{value:500,unit:"mg",description:"A powerful antioxidant that supports the immune system, skin health, and helps manage stress. Aids in recovery."},"Vitamin B-12":{value:100,unit:"\xb5g",description:"Essential for nerve function and energy production. Optimal levels help prevent brain fog and support mood."},"Vitamin A, RAE":{value:900,unit:"\xb5g",description:"Supports vision, immune function, and cellular communication. Best obtained from a varied diet."},"Vitamin E (alpha-tocopherol)":{value:200,unit:"mg",description:"A key antioxidant that protects cells from oxidative stress, supporting skin health and reducing inflammation."},"Vitamin K (phylloquinone)":{value:180,unit:"\xb5g",description:"Works with Vitamin D to direct calcium to bones, supporting skeletal and cardiovascular health."},Thiamin:{value:1.2,unit:"mg",description:"Also known as Vitamin B1, it's vital for energy metabolism and proper nerve function."},Riboflavin:{value:1.3,unit:"mg",description:"Vitamin B2, important for energy production, cellular growth, and breaking down fats and medications."},Niacin:{value:16,unit:"mg",description:"Vitamin B3, helps convert food into energy and supports the nervous and digestive systems."},"Vitamin B-6":{value:75,unit:"mg",description:"Crucial for mood regulation (serotonin production), immune response, and metabolism. Optimal levels can help with PMS symptoms."},"Folate, total":{value:600,unit:"\xb5g",description:"Essential for cell growth and DNA formation. Supports nerve function and helps regulate mood."},"Magnesium, Mg":{value:650,unit:"mg",description:"A master mineral for over 300 functions, including muscle relaxation, stress management, sleep quality, and blood sugar control."},"Potassium, K":{value:4100,unit:"mg",description:"An electrolyte that helps regulate fluid balance, nerve signals, and muscle contractions. Key for blood pressure management."},"Zinc, Zn":{value:30,unit:"mg",description:"Crucial for a strong immune system, wound healing, and hormone production, including appetite-regulating hormones."},"Calcium, Ca":{value:1200,unit:"mg",description:"Vital for bone health, but must be balanced with Vitamins D and K2. Best sourced from diet."},"Selenium, Se":{value:150,unit:"\xb5g",description:"A powerful antioxidant that is essential for thyroid function, which governs metabolism and energy levels."},"Iron, Fe":{value:25,unit:"mg",description:"Necessary for creating hemoglobin to transport oxygen. Optimal levels are key for energy and preventing fatigue."},"Sodium, Na":{value:2300,unit:"mg",description:"An important electrolyte, but intake should be monitored. Primarily from whole foods, not processed ones."},Iodine:{value:250,unit:"mcg",description:"Essential for the production of thyroid hormones, which regulate metabolism, energy, and cognitive function."},"Copper, Cu":{value:1.3,unit:"mg",description:"Works with iron to form red blood cells and supports blood vessels, nerves, and immune function."},Chromium:{value:500,unit:"mcg",description:"Enhances the action of insulin, playing a key role in stabilizing blood sugar and reducing cravings."},Manganese:{value:2,unit:"mg",description:"Contributes to bone formation, metabolism, and antioxidant defenses against cellular damage."},"Omega-3s (EPA/DHA)":{value:1500,unit:"mg",description:"Potent anti-inflammatory fats that support brain health, mood stability, and cardiovascular function."},"Fiber, total dietary":{value:35,unit:"g",description:"Crucial for digestive health, satiety, and stabilizing blood sugar. Aim for sources from whole foods."},"Sugars, added":{value:0,unit:"g",description:"Added sugars should be eliminated to stabilize blood sugar, manage hunger signals, and reduce inflammation."},Cholesterol:{value:300,unit:"mg",description:"Your body produces most of what it needs. Dietary cholesterol has less impact than previously thought, but quality matters."},"Fatty acids, total saturated":{value:20,unit:"g",description:"Limit for cardiovascular health. Focus on unsaturated fats from whole food sources like nuts and avocados."}};var eu=l(53875),em=l(72578),eh=l(99776),eg=l(22454);let ex=e=>{let{name:a,value:l,unit:s,goal:r,isTrackOnly:n=!1}=e,i=r>0&&!n?l/r*100:100*(l>0),o=l>r&&!n;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between items-baseline",children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:a.split(",")[0]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,t.jsx)("span",{className:"font-bold text-foreground",children:l.toFixed(+!!n)}),!n&&" / ".concat(r.toFixed(0)),(0,t.jsxs)("span",{className:"text-xs",children:[" ",s]})]})]}),(0,t.jsx)(ed.k,{value:o?100:i})]})},ev=e=>{var a,l,r,n,o,d,c,u;let{isOpen:m,onClose:h,summary:g,client:x,onEditGoals:v}=e;if(!(null==g?void 0:g.allNutrients)||!x)return null;let p=(0,s.useMemo)(()=>{let e={Energy:{unit:"kcal"},Protein:{unit:"g"},"Total lipid (fat)":{unit:"g"},"Carbohydrate, by difference":{unit:"g"},"Fiber, total dietary":{unit:"g"},"Sugars, added":{unit:"g"}},a={},l={};for(let t in ec)e[t]||(t.toLowerCase().includes("vitamin")||["Thiamin","Riboflavin","Niacin","Folate, total"].includes(t)?a[t]=ec[t]:l[t]=ec[t]);return{macros:e,vitamins:a,minerals:l}},[]),f=x.customGoals,b=(e,a)=>(0,t.jsxs)(eo.AccordionItem,{value:e.toLowerCase(),children:[(0,t.jsx)(eo.AccordionTrigger,{children:e}),(0,t.jsx)(eo.AccordionContent,{className:"space-y-3",children:Object.keys(a).map(e=>{var l,s;let r=g.allNutrients[e],n=(null==r?void 0:r.value)||0,i=(null==f?void 0:f[e])||(null==(l=ec[e])?void 0:l.value)||0,o=(null==(s=a[e])?void 0:s.unit)||"g";return(0,t.jsx)(ex,{name:e,value:n,unit:o,goal:i},e)})})]});return(0,t.jsx)(ei.d,{isOpen:m,onClose:h,title:"Daily Nutritional Summary",description:"A detailed breakdown of your nutrient intake for the day.",className:"max-w-lg",children:(0,t.jsx)("div",{className:"max-h-[60vh] overflow-y-auto pr-6 -mr-6 space-y-4",children:(0,t.jsxs)(eo.Accordion,{type:"multiple",defaultValue:["macros","vitamins"],className:"w-full",children:[(0,t.jsxs)(eo.AccordionItem,{value:"macros",children:[(0,t.jsx)(eo.AccordionTrigger,{children:"Macronutrients"}),(0,t.jsxs)(eo.AccordionContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"p-2 rounded-md bg-muted/50 text-center relative",children:[(0,t.jsx)("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:"Recommended Daily Calorie Range"}),(0,t.jsxs)("p",{className:"font-bold text-base",children:[Math.round((null==f||null==(a=f.calorieGoalRange)?void 0:a.min)||0).toLocaleString()," - ",Math.round((null==f||null==(l=f.calorieGoalRange)?void 0:l.max)||0).toLocaleString()]}),(0,t.jsx)(i.$,{variant:"ghost",size:"icon",className:"absolute top-1/2 right-1 -translate-y-1/2 h-7 w-7 text-muted-foreground",onClick:v,children:(0,t.jsx)(ee.A,{className:"h-4 w-4"})})]}),(0,t.jsx)(ex,{name:"Energy",value:(null==(r=g.allNutrients.Energy)?void 0:r.value)||0,unit:"kcal",goal:(null==f?void 0:f.calorieGoal)||0}),(0,t.jsx)(ex,{name:"Protein",value:(null==(n=g.allNutrients.Protein)?void 0:n.value)||0,unit:"g",goal:(null==f?void 0:f.protein)||0}),(0,t.jsx)(ex,{name:"Total lipid (fat)",value:(null==(o=g.allNutrients["Total lipid (fat)"])?void 0:o.value)||0,unit:"g",goal:(null==f?void 0:f.fat)||0}),(0,t.jsx)(ex,{name:"Carbohydrate",value:(null==(d=g.allNutrients["Carbohydrate, by difference"])?void 0:d.value)||0,unit:"g",goal:(null==f?void 0:f.carbs)||0}),(0,t.jsx)(ex,{name:"Fiber, total dietary",value:(null==(c=g.allNutrients["Fiber, total dietary"])?void 0:c.value)||0,unit:"g",goal:(null==f?void 0:f.fiber)||35,isTrackOnly:!0}),(0,t.jsx)(ex,{name:"Sugars, added",value:(null==(u=g.allNutrients["Sugars, added"])?void 0:u.value)||0,unit:"g",goal:0,isTrackOnly:!0})]})]}),b("Vitamins",p.vitamins),b("Minerals",p.minerals)]})})})},ep=e=>{let{summary:a,onSummaryClick:l}=e,s={calories:(null==a?void 0:a.calories)||0,hydration:(null==a?void 0:a.hydration)||0,sleep:(null==a?void 0:a.sleep)||0,activity:(null==a?void 0:a.activity)||0,upf:(null==a?void 0:a.upf)||0};return(0,t.jsxs)("div",{className:"flex-shrink-0 p-2 border-b bg-background/50 flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-1 text-center flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(ea.A,{className:"h-4 w-4 text-amber-400"}),(0,t.jsx)("span",{className:"text-xs font-bold",children:s.calories.toFixed(0)}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"kcal"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(el.A,{className:"h-4 w-4 text-blue-400"}),(0,t.jsx)("span",{className:"text-xs font-bold",children:s.hydration.toFixed(0)}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"oz"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(et.A,{className:"h-4 w-4 text-indigo-400"}),(0,t.jsx)("span",{className:"text-xs font-bold",children:s.sleep.toFixed(1)}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"hr"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(es.A,{className:"h-4 w-4 text-orange-400"}),(0,t.jsx)("span",{className:"text-xs font-bold",children:s.activity.toFixed(0)}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"min"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)(er.A,{className:"h-4 w-4 text-red-400"}),(0,t.jsxs)("span",{className:"text-xs font-bold",children:[s.upf.toFixed(0),"%"]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"UPF"})]})]}),(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(i.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:l,children:(0,t.jsx)(en.A,{className:"h-5 w-5 text-muted-foreground"})})})]})};function ef(e){let{isOpen:a,onClose:l,client:i,initialDate:o,highlightedEntryId:d}=e,{toast:c}=(0,N.dj)(),u=(0,eh.jE)(),[m,h]=(0,s.useState)("day"),[g,x]=(0,s.useState)(o||new Date),[v,p]=(0,s.useState)(!1),[f,b]=(0,s.useState)(i),[y,j]=(0,s.useState)(!1),[w,S]=(0,s.useState)("account"),[C,A]=(0,s.useState)(void 0),[k,M]=(0,s.useState)("");(0,s.useEffect)(()=>{M(Intl.DateTimeFormat().resolvedOptions().timeZone)},[]),(0,s.useEffect)(()=>{o&&x(o)},[o]);let F=(0,s.useCallback)(async()=>{if(!i.uid)return;let e=await (0,eu.m)(i.uid);e.success&&e.data?b(e.data):b(i)},[i]);(0,s.useEffect)(()=>{a&&F()},[a,F]),(0,s.useEffect)(()=>{y||F()},[y,F]);let T=g.toISOString().split("T")[0],D=g.getTimezoneOffset(),{data:I,isLoading:P}=(0,eg.I)({queryKey:["calendarData",T,i.uid,k,D],queryFn:async()=>{let e=await Q(i.uid,T,k,D);return e.success?e:(console.error("Failed to fetch calendar data:",e.error),c({variant:"destructive",title:"Error",description:"Could not load calendar data."}),{data:[],summary:null})},enabled:a&&!!i.uid&&!!k}),L=async()=>{await (0,E.d)(i.uid,T,k,D),u.invalidateQueries({queryKey:["calendarData",T,i.uid,k,D]})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.lG,{open:a,onOpenChange:l,children:(0,t.jsxs)(r.Cf,{className:"w-[90vw] max-w-7xl h-[90dvh] flex flex-col p-0",children:[(0,t.jsxs)(r.c7,{className:"p-0 -m-2",children:[(0,t.jsxs)(r.L3,{srOnly:!0,children:[i.fullName,"'s Calendar"]}),(0,t.jsx)(r.rr,{srOnly:!0,children:"View and manage calendar entries."})]}),(0,t.jsxs)("div",{className:"flex flex-col h-full w-full",children:[(0,t.jsxs)("div",{className:"flex-shrink-0",children:[(0,t.jsx)(n.tU,{value:m,onValueChange:e=>h(e),className:"w-full",children:(0,t.jsx)("div",{className:"p-2 border-b",children:(0,t.jsxs)(n.j7,{className:"grid w-full grid-cols-3 mx-auto max-w-xs",children:[(0,t.jsx)(n.Xi,{value:"day",children:"Day"}),(0,t.jsx)(n.Xi,{value:"week",children:"Week"}),(0,t.jsx)(n.Xi,{value:"month",children:"Month"})]})})}),"day"===m&&(0,t.jsx)(ep,{summary:null==I?void 0:I.summary,onSummaryClick:()=>{var e;if((null==f||null==(e=f.trackingSettings)?void 0:e.nutrition)===!1)return void c({title:"Nutrition Tracking Disabled",description:"Please enable nutrition tracking in your settings to view the summary."});p(!0)}})]}),(0,t.jsxs)("div",{className:"flex-1 min-h-0",children:["day"===m&&(0,t.jsx)(O,{client:i,selectedDate:g,entries:(null==I?void 0:I.data)||[],isLoading:P,onDateChange:x,onEntryChange:L,highlightedEntryId:d}),"week"===m&&(0,t.jsx)(B,{client:i,selectedDate:g,setSelectedDate:x,setActiveTab:h,onDateChange:x,entries:(null==I?void 0:I.data)||[],isLoading:P}),"month"===m&&(0,t.jsx)(Z,{client:i,selectedDate:g,setSelectedDate:x,setActiveTab:h,onDateChange:x,entries:(null==I?void 0:I.data)||[],isLoading:P})]})]})]})}),(0,t.jsx)(ev,{isOpen:v,onClose:()=>p(!1),summary:null==I?void 0:I.summary,client:f,onEditGoals:()=>{p(!1),setTimeout(()=>{S("account"),A("goals"),j(!0)},150)}}),(0,t.jsx)(em.g,{open:y,onOpenChange:j,defaultTab:"account",defaultAccordion:C})]})}},11647:(e,a,l)=>{l.d(a,{E:()=>i});var t=l(95155);l(12115);var s=l(83101),r=l(64269);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:a,variant:l,...s}=e;return(0,t.jsx)("div",{className:(0,r.cn)(n({variant:l}),a),...s})}},26333:(e,a,l)=>{l.d(a,{AM:()=>i,Wv:()=>o,hl:()=>d});var t=l(95155),s=l(12115),r=l(31138),n=l(64269);let i=r.bL,o=r.l9,d=s.forwardRef((e,a)=>{let{className:l,align:s="center",sideOffset:i=4,...o}=e;return(0,t.jsx)(r.ZL,{children:(0,t.jsx)(r.UC,{ref:a,align:s,sideOffset:i,className:(0,n.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",l),...o})})});d.displayName=r.UC.displayName},31120:(e,a,l)=>{l.d(a,{T:()=>n});var t=l(95155),s=l(12115),r=l(64269);let n=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",l),ref:a,...s})});n.displayName="Textarea"},35437:(e,a,l)=>{l.d(a,{J:()=>f,S:()=>p});var t=l(74206),s=l(11140),r=l(12784),n=l(37577),i=l(69693),o=l(5351),d=l(97114),c=l(89031),u=l(84336),m=l(88397),h=l(12360),g=l(36419),x=l(6943),v=l(92649);let p=[{id:"nutrition",label:"Nutrition",icon:t.A,color:"text-amber-500",bgColor:"bg-amber-100/50",borderColor:"border-amber-300",quote:"Whole foods satisfy soulfully—protein for lasting fullness. ~Alan Roberts",tool:"nutrition"},{id:"activity",label:"Activity",icon:s.A,color:"text-orange-500",bgColor:"bg-orange-100/50",borderColor:"border-orange-300",quote:"Joyful movement ignites energy—walk to natural joy. ~Alan Roberts"},{id:"sleep",label:"Sleep",icon:r.A,color:"text-indigo-500",bgColor:"bg-indigo-100/50",borderColor:"border-indigo-300",quote:"Sleep restores your body's wisdom—rest for effortless control. ~Alan Roberts"},{id:"stress",label:"Stress Relief",icon:n.A,color:"text-green-500",bgColor:"bg-green-100/50",borderColor:"border-green-300",quote:"Stress relief is your shield—breathe to reclaim calm. ~Alan Roberts"},{id:"hydration",label:"Hydration",icon:i.A,color:"text-blue-500",bgColor:"bg-blue-100/50",borderColor:"border-blue-300",quote:"Hydration quiets false hunger—small sips build big balance. ~Alan Roberts"},{id:"protocol",label:"75/20/20 Protocol",icon:o.A,color:"text-teal-500",bgColor:"bg-teal-100/50",borderColor:"border-teal-300",quote:"Pause for true fullness. ~Alan Roberts"},{id:"planner",label:"Indulgence Planner",icon:d.A,color:"text-lime-500",bgColor:"bg-lime-100/50",borderColor:"border-lime-300",quote:"Joy without guilt. ~Alan Roberts"},{id:"cravings",label:"Cravings/Binges",icon:c.A,color:"text-red-500",bgColor:"bg-red-100/50",borderColor:"border-red-300",quote:"Signals to learn from. ~Alan Roberts"},{id:"insights",label:"Insights",icon:u.A,color:"text-yellow-500",bgColor:"bg-yellow-100/50",borderColor:"border-yellow-300",quote:"Learn from patterns—adjust without struggle for growth. ~Alan Roberts"},{id:"measurements",label:"Measurements",icon:m.A,color:"text-gray-500",bgColor:"bg-gray-100/50",borderColor:"border-gray-300",quote:"Celebrate consistency—each day a victory in balance. ~Alan Roberts"}],f={nutrition:{icon:t.A,getTitle:e=>e.mealType?"".concat(e.mealType.charAt(0).toUpperCase()+e.mealType.slice(1)):"Meal"},activity:{icon:s.A,getTitle:e=>"Activity"},sleep:{icon:r.A,getTitle:e=>"number"==typeof e.duration?"".concat(e.duration.toFixed(1),"hr Sleep"):"Sleep"},"sleep-nap":{icon:r.A,getTitle:e=>"number"==typeof e.duration?"".concat(e.duration.toFixed(1),"hr Nap"):"Nap"},hydration:{icon:i.A,getTitle:e=>e.amount?"".concat(e.amount,"oz Water"):"Hydration"},stress:{icon:h.A,getTitle:e=>"Stress Event"},relief:{icon:n.A,getTitle:e=>e.strategy||"Stress Relief"},measurements:{icon:m.A,getTitle:e=>"Measurements"},protocol:{icon:o.A,getTitle:e=>"Protocol Logged"},planner:{icon:d.A,getTitle:e=>e.plannedIndulgence?"Planned: ".concat(e.plannedIndulgence):"Indulgence"},craving:{icon:c.A,getTitle:e=>e.craving||"Craving Logged"},binge:{icon:c.A,getTitle:e=>"Binge Event"},habit:{icon:g.A,getTitle:e=>e.title?"Challenge: ".concat(e.title):"Challenge Habit"},appointment:{icon:x.A,getTitle:e=>e.title||"Appointment"},default:{icon:v.A,getTitle:e=>e.pillar?e.pillar.charAt(0).toUpperCase()+e.pillar.slice(1):"Log"}}},41546:(e,a,l)=>{l.d(a,{k:()=>u});var t=l(95155),s=l(51834),r=l(3998),n=l(12115),i=l(15894),o=l(89988),d=l(82224),c=l(92033);function u(e){let{isOpen:a,onClose:l,requiredTier:u,featureName:m,reason:h}=e,{toast:g}=(0,i.dj)(),{user:x}=(0,d.A)(),[v,p]=(0,n.useState)(!1),f=async()=>{if(x&&u){p(!0);try{let{url:e,error:a}=await (0,o.a)(x.uid,u,"monthly");if(e)window.location.href=e;else throw Error(a||"Could not create a checkout session.")}catch(e){g({variant:"destructive",title:"Error",description:e.message}),p(!1)}}};return(0,t.jsx)(s.lG,{open:a,onOpenChange:l,children:(0,t.jsxs)(s.Cf,{className:"w-[90vw] sm:max-w-md",children:[(0,t.jsxs)(s.c7,{className:"text-center pt-4",children:[(0,t.jsxs)(s.L3,{className:"text-2xl",children:["Upgrade to Unlock ",m]}),(0,t.jsx)(s.rr,{className:"text-base px-4",children:h})]}),(0,t.jsxs)(s.Es,{className:"flex-col sm:flex-row gap-2",children:[(0,t.jsx)(r.$,{onClick:l,variant:"outline",className:"w-full",children:"Maybe Later"}),(0,t.jsxs)(r.$,{onClick:f,disabled:v,className:"w-full",children:[v&&(0,t.jsx)(c.A,{className:"h-4 w-4 animate-spin"}),"Upgrade to ",u]})]})]})})}},50276:(e,a,l)=>{l.d(a,{V:()=>d});var t=l(95155);l(12115);var s=l(51190),r=l(63263),n=l(33506),i=l(64269),o=l(3998);function d(e){let{className:a,classNames:l,showOutsideDays:d=!0,...c}=e;return(0,t.jsx)(n.hv,{showOutsideDays:d,className:(0,i.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,i.cn)((0,o.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,i.cn)((0,o.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...l},components:{IconLeft:e=>{let{className:a,...l}=e;return(0,t.jsx)(s.A,{className:(0,i.cn)("h-4 w-4",a),...l})},IconRight:e=>{let{className:a,...l}=e;return(0,t.jsx)(r.A,{className:(0,i.cn)("h-4 w-4",a),...l})}},...c})}d.displayName="Calendar"},55723:(e,a,l)=>{l.d(a,{d:()=>s});var t=l(30926);let s=(0,t.createServerReference)("78e256f0a38f9dd648cfb6149cc2f3b336e176ebb3",t.callServer,void 0,t.findSourceMapURL,"triggerSummaryRecalculation")},61680:(e,a,l)=>{l.d(a,{X:()=>as});var t=l(95155),s=l(12115),r=l(20063),n=l(3998),i=l(64269),o=l(28127),d=l(62593),c=l(13630),u=l(92033),m=l(26333),h=l(50276),g=l(5282),x=l(18202),v=l(47691),p=l(65142),f=l(76444),b=l(15894),y=l(30926);let j=(0,y.createServerReference)("7874b3f41cf91aeb34734a820a53d9778d1bce0194",y.callServer,void 0,y.findSourceMapURL,"saveDataAction");var N=l(82224);let w=(0,y.createServerReference)("6016d3f464213042e86350c9ce18208d0d9e6b3e87",y.callServer,void 0,y.findSourceMapURL,"updateClientWthr"),S=(0,y.createServerReference)("40513fd52725d199d57a452fd9e59a2da331577624",y.callServer,void 0,y.findSourceMapURL,"getTodaysContextualData");var C=l(55723),A=l(95409);let k=e=>{let{message:a,onClose:l}=e;return(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:l,children:(0,t.jsxs)("div",{style:{background:"white",borderRadius:"8px",padding:"24px",maxWidth:"450px",width:"90%",boxShadow:"0 4px 15px rgba(0,0,0,0.2)",color:"#333"},onClick:e=>{e.stopPropagation()},children:[(0,t.jsx)("h3",{style:{marginTop:0,marginBottom:"16px",fontSize:"1.25rem",fontWeight:"600",color:"#111"},children:"A Note For You"}),(0,t.jsx)("div",{style:{whiteSpace:"pre-wrap",lineHeight:"1.6",fontSize:"1rem"},children:a}),(0,t.jsx)("button",{onClick:l,style:{marginTop:"24px",width:"100%",padding:"12px",border:"none",borderRadius:"6px",backgroundColor:"#007bff",color:"white",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.2s ease"},children:"Got it"})]})})};var M=l(22452),F=l(88566),T=l(11186),D=l(13406),I=l(90109),E=l(92649),P=l(12537),L=l(63263);let R=e=>{let{food:a,subDescription:l,onClick:s,actions:r,children:n}=e,o=!!s;return(0,t.jsxs)("div",{className:(0,i.cn)("flex items-center p-2 rounded-lg",o&&"cursor-pointer hover:bg-muted/50"),onClick:s,children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"font-semibold text-sm truncate",children:a.description}),l?(0,t.jsx)("div",{className:"text-xs text-muted-foreground truncate",children:l}):(0,t.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:a.brandOwner||"Generic"})]}),r&&(0,t.jsx)("div",{className:"ml-2",children:r}),o&&!r&&(0,t.jsx)(L.A,{className:"h-5 w-5 text-muted-foreground ml-2"}),n]})};function O(e){let{onFoodSelected:a}=e,[l,r]=(0,s.useState)(""),[i,o]=(0,s.useState)({brandedFoods:[],foundationFoods:[],otherFoods:[]}),[d,c]=(0,s.useState)(!1),[m,h]=(0,s.useState)(!1),g=async()=>{if(l.length<3){o({brandedFoods:[],foundationFoods:[],otherFoods:[]}),h(!0);return}c(!0),h(!0);try{let e=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:l})});e.ok||console.log("[SearchView] Search API returned status ".concat(e.status,". This is now handled gracefully."));let a=await e.json().catch(()=>null);o(a||{brandedFoods:[],foundationFoods:[],otherFoods:[]})}catch(e){console.error("[SearchView] A critical error occurred during the fetch operation:",e),o({brandedFoods:[],foundationFoods:[],otherFoods:[]})}finally{c(!1)}},x=[...i.foundationFoods||[],...i.brandedFoods||[],...i.otherFoods||[]];return(0,t.jsxs)("div",{className:"flex flex-col gap-4 pt-4",children:[(0,t.jsxs)("form",{onSubmit:e=>{e.preventDefault(),g()},className:"flex w-full items-center space-x-2",children:[(0,t.jsx)(p.p,{placeholder:"Search for a food (e.g., 'Apple', 'Grilled Chicken')...",value:l,onChange:e=>r(e.target.value),"aria-label":"Food search input",disabled:d}),(0,t.jsx)(n.$,{type:"submit",disabled:d,children:d?(0,t.jsx)(u.A,{className:"h-4 w-4 animate-spin"}):(0,t.jsx)(I.A,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2 flex-1 overflow-y-auto pr-2",children:[d&&(0,t.jsx)(u.A,{className:"h-6 w-6 animate-spin self-center my-4"}),!d&&m&&0===x.length&&(0,t.jsx)("p",{className:"text-center text-muted-foreground py-4",children:"No results found."}),!d&&x.map(e=>(0,t.jsx)(R,{food:e,onClick:()=>{console.log("[SearchView] Food selected: ".concat(e.description,". Passing to parent.")),a(e)}},e.fdcId))]})]})}let H=(0,y.createServerReference)("4021386019bc2487d1f8c035dc4a9d4ed109a9c92d",y.callServer,void 0,y.findSourceMapURL,"getFavoriteFoods"),z=(0,y.createServerReference)("703016cd6528f4554211a92f77e350d2b835e235f6",y.callServer,void 0,y.findSourceMapURL,"toggleFavoriteFood");function U(e){let{userId:a,onFoodSelected:l}=e,[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0);(0,s.useEffect)(()=>{async function e(){d(!0),i(await H(a)),d(!1)}a&&e()},[a]);let c=async e=>{(await z(a,e,!1)).success&&i(a=>a.filter(a=>a.fdcId!==e))};return o?(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)(u.A,{className:"h-8 w-8 animate-spin"})}):0===r.length?(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"You haven't favorited any foods yet."}):(0,t.jsx)("div",{className:"flex flex-col gap-2",children:r.map(e=>(0,t.jsx)(R,{description:e.description,actions:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>l(e),children:"Select"}),(0,t.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>c(e.fdcId),"aria-label":"Remove from favorites",children:(0,t.jsx)(E.A,{className:"h-4 w-4 text-yellow-500 fill-current"})})]})},e.fdcId))})}let V=(0,y.createServerReference)("40070e28dce6e52252235035ae504ff310f270ee3b",y.callServer,void 0,y.findSourceMapURL,"getSavedMeals"),q=(0,y.createServerReference)("40dd8d86b568dc4fa6cc0d409f28d971e40015e41c",y.callServer,void 0,y.findSourceMapURL,"getEnrichedFoodsByFdcIds"),G=(0,y.createServerReference)("60ecb7e5eb8965636a846aa5e99a97f40d533c9b3a",y.callServer,void 0,y.findSourceMapURL,"deleteUserMeal");var B=l(13496);function J(e){let{userId:a,onAddItemsToMeal:l}=e,[r,i]=(0,s.useState)([]),[o,d]=(0,s.useState)(!0),{toast:m}=(0,b.dj)();async function h(){d(!0),i(await V(a)),d(!1)}(0,s.useEffect)(()=>{a&&h()},[a]);let g=async e=>{let a=e.items.map(e=>e.fdcId),t=new Map((await q(a)).map(e=>[e.fdcId,e])),s=e.items.map(e=>{let a=t.get(e.fdcId),l=(null==a?void 0:a.portionSizes.find(a=>a.description===e.unit))||(null==a?void 0:a.portionSizes[0]);return a&&l?{food:a,quantity:e.quantity,portion:l}:null}).filter(e=>null!==e);s.length!==e.items.length&&m({variant:"destructive",title:"Error",description:"Could not load all items for the saved meal."}),l(s)},x=async e=>{(await G(a,e)).success?(i(a=>a.filter(a=>a.id!==e)),m({title:"Meal Deleted",description:"The saved meal has been removed."})):m({variant:"destructive",title:"Error",description:"Failed to delete the saved meal."})};return o?(0,t.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,t.jsx)(u.A,{className:"h-8 w-8 animate-spin"})}):0===r.length?(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8",children:"You haven't saved any meals yet."}):(0,t.jsx)(B.Accordion,{type:"single",collapsible:!0,className:"w-full space-y-2",children:r.map(e=>{var a;return(0,t.jsxs)(B.AccordionItem,{value:null!=(a=e.id)?a:"",className:"border rounded-md px-4",children:[(0,t.jsx)(B.AccordionTrigger,{className:"py-3 hover:no-underline",children:(0,t.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,t.jsx)("span",{className:"font-semibold",children:e.name}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground pr-4",children:[e.items.length," items"]})]})}),(0,t.jsxs)(B.AccordionContent,{className:"pb-2",children:[(0,t.jsx)("div",{className:"flex flex-col gap-1 mb-4 text-sm text-muted-foreground",children:e.items.map((e,a)=>(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsxs)("span",{children:[e.quantity," x ",e.description]})},"".concat(e.fdcId,"-").concat(a)))}),(0,t.jsxs)("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[(0,t.jsx)(n.$,{variant:"outline",onClick:()=>g(e),children:"Add to Current Meal"}),(0,t.jsx)(n.$,{variant:"ghost",size:"icon",onClick:()=>{var a;return x(null!=(a=e.id)?a:"")},children:(0,t.jsx)(c.A,{className:"h-4 w-4 text-destructive"})})]})]})]},e.id)})})}var $=l(73180),_=l(74206),W=l(34783),Y=l(16359),X=l(88332),K=l(66264),Z=l(15039),Q=l(51834);let ee=(0,y.createServerReference)("706ddc88f0741e7ec82482936f35cd563ea3f98854",y.callServer,void 0,y.findSourceMapURL,"saveUserMeal");var ea=l(11647);let el=(e,a)=>{var l,t;return(null==(t=e.nutrients)||null==(l=t.find(e=>e.name===a))?void 0:l.amount)||0},et=e=>{var a,l;let t=null==(a=e.portionSizes)?void 0:a.find(a=>a.description===e.unit),s=(null!=(l=null==t?void 0:t.gramWeight)?l:100)/100*e.quantity;return{calories:el(e,"Energy")*s,protein:el(e,"Protein")*s,fat:el(e,"Total lipid (fat)")*s,carbs:el(e,"Carbohydrate, by difference")*s,fiber:el(e,"Fiber, total dietary")*s}},es={green:"border-green-500/40 bg-green-500/20 text-green-300",yellow:"border-yellow-500/40 bg-yellow-500/20 text-yellow-300",red:"border-red-500/40 bg-red-500/20 text-red-300"},er=e=>{let{classification:a,showText:l=!0}=e,{label:s}={green:{label:"Whole Food"},yellow:{label:"Processed"},red:{label:"UPF"}}[a];return(0,t.jsx)(ea.E,{variant:"outline",className:(0,i.cn)("text-[10px] px-1 py-0",es[a]),children:l&&s})};function en(e){let{items:a,onRemoveItem:l,onClearMeal:r,userId:o}=e,[d,m]=(0,s.useState)(!1),[h,g]=(0,s.useState)(""),[x,v]=(0,s.useState)(!1),b=async()=>{if(!h.trim()||0===a.length)return;v(!0);let e=a.map(e=>({...e,calories:et(e).calories}));try{await ee(o,h,e),g(""),m(!1),r()}catch(e){console.error("Failed to save meal:",e)}finally{v(!1)}},y=(0,s.useMemo)(()=>{let e={calories:0,protein:0,fat:0,carbs:0,fiber:0,upfScore:0,upfItems:0};a.forEach(a=>{var l;let t=et(a);e.calories+=t.calories,e.protein+=t.protein,e.fat+=t.fat,e.carbs+=t.carbs,e.fiber+=t.fiber,(null==(l=a.upfPercentage)?void 0:l.value)&&(e.upfScore+=a.upfPercentage.value,e.upfItems++)});let l=e.upfItems>0?e.upfScore/e.upfItems:0;return{...e,avgUpf:l}},[a]);return(0,t.jsxs)("div",{className:"flex flex-col h-full gap-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold tracking-tight",children:"Current Meal"}),a.length>0&&(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(Q.lG,{open:d,onOpenChange:m,children:[(0,t.jsx)(Q.zM,{asChild:!0,children:(0,t.jsxs)(n.$,{variant:"outline",size:"sm",children:[" ",(0,t.jsx)($.A,{className:"h-4 w-4 mr-2"})," Save Meal"]})}),(0,t.jsxs)(Q.Cf,{children:[(0,t.jsx)(Q.c7,{children:(0,t.jsx)(Q.L3,{children:"Save Meal"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsx)(f.J,{htmlFor:"meal-name",className:"text-right",children:"Meal Name"}),(0,t.jsx)(p.p,{id:"meal-name",value:h,onChange:e=>g(e.target.value),className:"col-span-3",placeholder:"e.g., Morning Breakfast"})]}),(0,t.jsx)(Q.Es,{children:(0,t.jsxs)(n.$,{onClick:b,disabled:x||!h.trim(),children:[x&&(0,t.jsx)(u.A,{className:"mr-2 h-4 w-4 animate-spin"})," Save"]})})]})]}),(0,t.jsx)(n.$,{variant:"link",size:"sm",className:"text-destructive h-auto p-0",onClick:r,children:"Clear All"})]})]}),a.length>0&&(0,t.jsx)("div",{className:"grid grid-cols-6 gap-1 text-center p-2 rounded-lg bg-muted/50",children:[{i:_.A,c:"amber",l:"kcal",v:y.calories,f:0},{i:W.A,c:"red",l:"Protein",v:y.protein,f:0,u:"g"},{i:Y.A,c:"blue",l:"Fat",v:y.fat,f:0,u:"g"},{i:X.A,c:"orange",l:"Carbs",v:y.carbs,f:0,u:"g"},{i:K.A,c:"green",l:"Fiber",v:y.fiber,f:1,u:"g"},{i:Z.A,c:"red",l:"UPF",v:y.avgUpf,f:0,u:"%"}].map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(e.i,{className:(0,i.cn)("h-4 w-4 text-".concat(e.c,"-400"))}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[e.v.toFixed(e.f),e.u||""]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:e.l})]},e.l))}),(0,t.jsx)("div",{className:"flex-grow overflow-y-auto pr-2 -mr-2",children:0===a.length?(0,t.jsx)("div",{className:"flex items-center justify-center h-full rounded-lg bg-background",children:(0,t.jsx)("p",{className:"text-center text-muted-foreground py-8 px-4",children:"Search for a food to begin building a meal."})}):(0,t.jsx)("div",{className:"flex flex-col gap-2",children:a.map((e,a)=>{var s,r,i,o,d,u;let m={fdcId:null!=(d=e.fdcId)?d:0,description:null!=(u=e.description)?u:"No description",brandOwner:e.brandOwner,ingredients:e.ingredients,nutrients:e.nutrients,upfAnalysis:e.upfAnalysis,glutenAnalysis:e.glutenAnalysis,upfPercentage:e.upfPercentage,portionSizes:e.portionSizes,source:e.source},h=null;return(null==(s=m.upfAnalysis)?void 0:s.rating)===F.SX.UPF?h="red":(null==(r=m.upfAnalysis)?void 0:r.rating)===F.SX.PROCESSED?h="yellow":(null==(i=m.upfAnalysis)?void 0:i.rating)===F.SX.WHOLE_FOOD&&(h="green"),(0,t.jsx)(R,{food:m,subDescription:"".concat(e.quantity," x ").concat(e.unit),actions:(0,t.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>l(a),children:(0,t.jsx)(c.A,{className:"h-4 w-4 text-muted-foreground"})}),children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(null==(o=m.glutenAnalysis)?void 0:o.isGlutenFree)&&(0,t.jsx)(ea.E,{variant:"outline",className:"text-[10px] px-1 py-0",children:"GF"}),h&&(0,t.jsx)(er,{classification:h,showText:!0})]})},"".concat(m.fdcId,"-").concat(a))})})})]})}var ei=l(36204),eo=l(69693),ed=l(64065),ec=l(11064),eu=l(32265);function em(e){var a,l,r,o,d;let{food:c,onBack:u,onAddItem:m,isFavorite:h,onToggleFavorite:g}=e,x=c.portionSizes||[],[v,f]=s.useState(1),[b,y]=s.useState(x[0]),j=!!b;s.useEffect(()=>{y(c.portionSizes&&c.portionSizes.length>0?c.portionSizes[0]:void 0),f(1)},[c]);let N=s.useMemo(()=>{if(!c.nutrients)return{protein:0,carbs:0,fat:0,calories:0,fiber:0};let e=e=>{var a;let l=c.nutrients.find(a=>a.name.toLowerCase()===e.toLowerCase()),t=null!=(a=null==b?void 0:b.gramWeight)?a:0;return l?l.amount/100*t*v:0};return{protein:e("Protein"),carbs:e("Carbohydrate, by difference"),fat:e("Total lipid (fat)"),calories:e("Energy"),fiber:e("Fiber, total dietary")}},[c.nutrients,v,b]),w=null==(d=null==(a=c.upfPercentage)?void 0:a.value)?null:d<=10?{className:"bg-green-100 text-green-900 border-green-200",label:"Whole Food"}:d<=20?{className:"bg-yellow-100 text-yellow-900 border-yellow-200",label:"Processed"}:{className:"bg-red-100 text-red-900 border-red-200",label:"UPF"},S=null==(l=c.glutenAnalysis)?void 0:l.isGlutenFree;return(0,t.jsxs)("div",{className:"flex flex-col h-full",children:[(0,t.jsxs)("div",{className:"flex items-start mb-4",children:[(0,t.jsx)(n.$,{variant:"ghost",size:"icon",onClick:u,className:"mr-2",children:(0,t.jsx)(ei.A,{})}),(0,t.jsxs)("div",{className:"flex-1 truncate",children:[(0,t.jsx)("h2",{className:"text-xl font-bold truncate",children:c.description}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[w&&(0,t.jsx)(ea.E,{className:(0,i.cn)(w.className,"border-2"),children:w.label}),S&&(0,t.jsx)(ea.E,{className:"bg-blue-100 text-blue-900 border-blue-200 border-2",children:"Gluten-Free"})]})]}),(0,t.jsx)(n.$,{variant:"ghost",size:"icon",onClick:g,className:"ml-2 flex-shrink-0",children:(0,t.jsx)(E.A,{className:h?"fill-yellow-400 text-yellow-500":""})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-4 pr-2",children:[(0,t.jsxs)("div",{className:"grid grid-cols-6 gap-1 text-center p-2 rounded-lg bg-muted/50 mb-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(_.A,{className:"h-4 w-4 text-amber-400"}),(0,t.jsx)("span",{className:"text-sm font-bold",children:N.calories.toFixed(0)}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"kcal"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(W.A,{className:"h-4 w-4 text-red-400"}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[N.protein.toFixed(0),"g"]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"Protein"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(eo.A,{className:"h-4 w-4 text-blue-400"}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[N.fat.toFixed(0),"g"]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"Fat"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(X.A,{className:"h-4 w-4 text-orange-400"}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[N.carbs.toFixed(0),"g"]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"Carbs"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(ed.A,{className:"h-4 w-4 text-green-400"}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[N.fiber.toFixed(1),"g"]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"Fiber"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(ec.A,{className:"h-4 w-4 text-red-400"}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[null!=(o=null==(r=c.upfPercentage)?void 0:r.value)?o:0,"%"]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:"UPF"})]})]}),c.brandOwner&&(0,t.jsx)("p",{className:"text-sm text-muted-foreground pt-2",children:c.brandOwner}),c.ingredients&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-1",children:"Ingredients"}),(0,t.jsx)("div",{className:"max-h-28 overflow-y-auto bg-muted/50 p-2 rounded-md",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground italic",children:c.ingredients})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-2",children:"Serving Size"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.p,{type:"number",value:v,onChange:e=>f(Math.max(1,parseInt(e.target.value,10)||1)),className:"w-20"}),(0,t.jsxs)(T.l6,{value:null==b?void 0:b.description,onValueChange:e=>{let a=x.find(a=>a.description===e);a&&y(a)},disabled:!j,children:[(0,t.jsx)(T.bq,{className:"flex-1",children:(0,t.jsx)(T.yv,{placeholder:j?"Select portion":"No portions available"})}),(0,t.jsx)(T.gC,{children:x.map(e=>(0,t.jsxs)(T.eb,{value:e.description,children:[e.description," (",e.gramWeight,"g)"]},e.description))})]})]})]})]}),(0,t.jsx)("div",{className:"mt-4 flex justify-end",children:(0,t.jsxs)(n.$,{onClick:()=>{j&&b&&m({...c,quantity:v,unit:b.description,calories:N.calories})},disabled:!j,children:[(0,t.jsx)(eu.A,{className:"mr-2 h-4 w-4"})," Add to Meal"]})})]})}let eh=(0,y.createServerReference)("4029107161688dd755b8d712d90d9ea4fcbb2ef170",y.callServer,void 0,y.findSourceMapURL,"getOrEnrichFoodForUser"),eg="recentFoods",ex=e=>{try{let a=JSON.parse(localStorage.getItem(eg)||"[]").filter(a=>a.fdcId!==e.fdcId),l=[e,...a].slice(0,30);localStorage.setItem(eg,JSON.stringify(l))}catch(e){console.error("Failed to save recent food:",e)}},ev=e=>{let{onFoodSelected:a}=e,[l,r]=(0,s.useState)([]);return((0,s.useEffect)(()=>{{let e=localStorage.getItem(eg);if(e)try{r(JSON.parse(e))}catch(e){console.error("Failed to parse recent foods from localStorage:",e)}}},[]),0===l.length)?(0,t.jsx)("div",{className:"text-center text-muted-foreground p-8",children:"No recent foods. Foods you add to a meal will appear here."}):(0,t.jsx)("div",{className:"space-y-2 py-4",children:l.map(e=>{var l,s,r,n;let i={fdcId:null!=(l=e.fdcId)?l:0,description:null!=(s=e.description)?s:"Unnamed Food",brandOwner:e.brandOwner,ingredients:e.ingredients,upfAnalysis:null!=(r=e.upfAnalysis)?r:{rating:F.SX.UNCLASSIFIED,justification:""},glutenAnalysis:null!=(n=e.glutenAnalysis)?n:{isGlutenFree:!1,justification:""}};return(0,t.jsx)(R,{food:i,onClick:()=>a(e)},e.fdcId)})})},ep=e=>{let{value:a,icon:l,label:s}=e;return(0,t.jsxs)(D.Xi,{value:a,className:"flex-1 flex flex-col items-center gap-1 p-2 h-auto",children:[(0,t.jsx)(l,{className:"h-5 w-5"}),(0,t.jsx)("span",{className:"text-xs",children:s})]})};function ef(e){let{isOpen:a,onClose:l,onAddItems:r,userId:i}=e,[o,c]=(0,s.useState)([]),[m,h]=(0,s.useState)("search"),[g,x]=(0,s.useState)(null),[v,p]=(0,s.useState)(new Set),[f,b]=(0,s.useState)(!0),[y,j]=(0,s.useState)(!1),N=(0,s.useCallback)(async()=>{if(i){b(!0);try{let e=await H(i);p(new Set(e.map(e=>e.fdcId)))}catch(e){console.error("Failed to fetch favorites",e)}finally{b(!1)}}},[i]);(0,s.useEffect)(()=>{a&&(N(),c([]),h("search"),x(null))},[a,N]);let w=async e=>{console.log("[NutritionModal] Handling selection for ".concat(e.fdcId,". Starting analysis.")),j(!0),x(null);try{let a=await eh(e.fdcId);a?(console.log("[NutritionModal] Analysis complete for ".concat(e.fdcId,".")),x(a)):console.error("[NutritionModal] Analysis failed for fdcId: ".concat(e.fdcId,"."))}catch(e){console.error("[NutritionModal] CRITICAL: An error occurred during food analysis:",e)}finally{console.log("[NutritionModal] Analysis process finished for ".concat(e.fdcId,".")),j(!1)}},S=()=>{c([])},C=async()=>{if(!g)return;let e=!v.has(g.fdcId),a=new Set(v);e?a.add(g.fdcId):a.delete(g.fdcId),p(a);try{await z(i,g.fdcId,e)}catch(e){console.error("Failed to toggle favorite",e),p(new Set(v))}};return(0,t.jsx)(A.d,{isOpen:a,onClose:l,title:g?"Food Details":"Search & Add Food",className:"h-[90dvh] w-[95vw] sm:max-w-4xl flex flex-col",footer:o.length>0?(0,t.jsx)("div",{className:"flex justify-end w-full",children:(0,t.jsxs)(n.$,{onClick:()=>{r(o),S(),l()},children:["Add ",o.length," Item(s) to Log"]})}):null,children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 flex-1 min-h-0",children:[(0,t.jsxs)("div",{className:"flex flex-col space-y-4 min-h-0 relative",children:[y&&(0,t.jsx)("div",{className:"absolute inset-0 bg-background/80 flex items-center justify-center z-50 rounded-lg",children:(0,t.jsx)(u.A,{className:"h-12 w-12 animate-spin text-primary"})}),g?(0,t.jsx)(em,{food:g,onBack:()=>x(null),onAddItem:e=>{c(a=>[...a,e]),ex(e),x(null)},isFavorite:v.has(g.fdcId),onToggleFavorite:C}):(0,t.jsxs)(D.tU,{value:m,onValueChange:h,className:"flex-1 flex flex-col min-h-0",children:[(0,t.jsxs)(D.j7,{className:"grid w-full grid-cols-4 h-auto",children:[(0,t.jsx)(ep,{value:"search",icon:I.A,label:"Search"}),(0,t.jsx)(ep,{value:"recents",icon:d.A,label:"Recents"}),(0,t.jsx)(ep,{value:"favorites",icon:E.A,label:"Favorites"}),(0,t.jsx)(ep,{value:"meals",icon:P.A,label:"Saved"})]}),f&&!y?(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,t.jsx)(u.A,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(D.av,{value:"search",className:"flex-1 overflow-auto",children:(0,t.jsx)(O,{onFoodSelected:w})}),(0,t.jsx)(D.av,{value:"recents",className:"flex-1 overflow-auto",children:(0,t.jsx)(ev,{onFoodSelected:w})}),(0,t.jsx)(D.av,{value:"favorites",className:"flex-1 overflow-auto",children:(0,t.jsx)(U,{onFoodSelected:w,userId:i})}),(0,t.jsx)(D.av,{value:"meals",className:"flex-1 overflow-auto",children:(0,t.jsx)(J,{onAddItemsToMeal:e=>{c(a=>[...a,...e]),e.forEach(e=>{ex(e)})},userId:i})})]})]})]}),(0,t.jsx)("div",{className:"flex flex-col min-h-0 bg-background/50 rounded-lg p-4",children:(0,t.jsx)(en,{items:o,onRemoveItem:e=>{c(a=>a.filter((a,l)=>l!==e))},onClearMeal:S,userId:i})})]})})}var eb=l(17037),ey=l(66065);let ej={green:"border-green-500/40 bg-green-500/20 text-green-300",yellow:"border-yellow-500/40 bg-yellow-500/20 text-yellow-300",red:"border-red-500/40 bg-red-500/20 text-red-300"},eN=e=>{let{label:a,value:l,unit:s,className:r}=e;return(0,t.jsxs)("div",{className:(0,i.cn)("text-center",r),children:[(0,t.jsx)("p",{className:"font-bold text-sm",children:l.toFixed(0)}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground -mt-1",children:a})]})},ew=e=>{var a,l,s,r,o,d,u,m;let{item:h,onRemove:g,onReasoningClick:x}=e,v=eC(h.food,h.quantity,h.unit),p=h.upf?ej[h.upf.classification]:"",f=(null==(a=h.upf)?void 0:a.classification)==="red"?"UPF":(null==(l=h.upf)?void 0:l.classification)==="yellow"?"Processed":"Whole Food";return(0,t.jsxs)("div",{className:"bg-muted/30 p-2 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("p",{className:"font-semibold text-sm leading-tight",children:h.food.description}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"".concat(h.quantity," x ").concat(h.unit)})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 ml-2",children:[(null==(s=h.food.attributes)?void 0:s.isGlutenFree)&&(0,t.jsx)(ea.E,{variant:"outline",className:"text-[10px] px-1 py-0",children:"GF"}),h.upf&&(0,t.jsx)(ea.E,{variant:"outline",className:(0,i.cn)("text-[10px] px-1 py-0",p),children:f}),(0,t.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:g,children:(0,t.jsx)(c.A,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-5 gap-1 mt-2 items-center",children:[(0,t.jsx)(eN,{label:"kcal",value:(null==(r=v.Energy)?void 0:r.value)||0,unit:""}),(0,t.jsx)(eN,{label:"Protein",value:(null==(o=v.Protein)?void 0:o.value)||0,unit:"g"}),(0,t.jsx)(eN,{label:"Fat",value:(null==(d=v["Total lipid (fat)"])?void 0:d.value)||0,unit:"g"}),(0,t.jsx)(eN,{label:"Carbs",value:(null==(u=v["Carbohydrate, by difference"])?void 0:u.value)||0,unit:"g"}),(null==(m=h.upf)?void 0:m.reasoning)?(0,t.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-7 w-7 mx-auto",onClick:()=>x(h.upf.reasoning),children:(0,t.jsx)(ey.A,{className:"h-4 w-4 text-blue-400"})}):(0,t.jsx)("div",{})]})]})},eS=e=>{let{items:a,onRemove:l,onReasoningClick:s}=e;return 0===a.length?(0,t.jsx)("div",{className:"text-center py-4",children:(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your meal is empty."})}):(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-muted-foreground",children:"Meal Items"}),(0,t.jsx)(eb.F,{className:"h-[250px] pr-3",children:(0,t.jsx)("div",{className:"space-y-2",children:a.map((e,a)=>(0,t.jsx)(ew,{item:e,onRemove:()=>l(a),onReasoningClick:s},a))})})]})},eC=(e,a,l)=>{var t;if(!e||!e.nutrients)return{};if(e.isPreScaled)return e.nutrients;let s=((null==(t=(e.servingOptions||[]).find(e=>e.label===l))?void 0:t.grams)||100)/100*a,r={};return Object.keys(e.nutrients).forEach(a=>{var l,t;r[a]={value:((null==(l=e.nutrients[a])?void 0:l.value)||0)*s,unit:(null==(t=e.nutrients[a])?void 0:t.unit)||""}}),r},eA=[{value:0,label:"0 - Stuffed"},{value:1,label:"1 - Overly Full"},{value:2,label:"2 - Satiated"},{value:3,label:"3 - Barely Satiated"},{value:4,label:"4 - Not Hungry, Not Full"},{value:5,label:"5 - Neutral"},{value:6,label:"6 - Slightly Hungry"},{value:7,label:"7 - Hungry"},{value:8,label:"8 - Very Hungry"},{value:9,label:"9 - Famished"},{value:10,label:"10 - Starving"}],ek=e=>{let{value:a,onValueChange:l,label:s}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:s}),(0,t.jsxs)(T.l6,{value:String(a),onValueChange:e=>l(Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select level"})}),(0,t.jsx)(T.gC,{children:eA.map(e=>(0,t.jsx)(T.eb,{value:String(e.value),children:e.label},e.value))})]})]})},eM=e=>{let{onFormStateChange:a,formState:l}=e,[o,d]=(0,s.useState)(null),[c,u]=(0,s.useState)(!1),{user:m}=(0,N.A)();(0,r.useRouter)();let{mealType:h="snack",hungerBefore:g=5,items:x=[]}=l||{},v=(e,l)=>{a({[e]:l})},p=(0,s.useMemo)(()=>{let e={calories:0,protein:0,fat:0,carbs:0,fiber:0,upfScore:0,upfItems:0},a={};x.forEach(l=>{if(l.food&&l.food.nutrients){var t,s,r,n,i;let o=eC(l.food,l.quantity,l.unit);for(let e in o){let l=o[e];l&&"number"==typeof l.value&&l.unit&&(a[e]||(a[e]={value:0,unit:l.unit}),a[e].value+=l.value)}e.calories=(null==(t=a.Energy)?void 0:t.value)||0,e.protein=(null==(s=a.Protein)?void 0:s.value)||0,e.fat=(null==(r=a["Total lipid (fat)"])?void 0:r.value)||0,e.carbs=(null==(n=a["Carbohydrate, by difference"])?void 0:n.value)||0,e.fiber=(null==(i=a["Fiber, total dietary"])?void 0:i.value)||0,l.upf&&"number"==typeof l.upf.score&&(e.upfScore+=l.upf.score,e.upfItems++)}});let l=e.upfItems>0?e.upfScore/e.upfItems:0;return{...e,avgUpf:l,fullNutrientProfile:a}},[x]);return s.useEffect(()=>{a({mealSummary:p})},[p,a]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsx)(ek,{value:g,onValueChange:e=>v("hungerBefore",e),label:"Hunger Before"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Meal Type"}),(0,t.jsxs)(T.l6,{value:h,onValueChange:e=>v("mealType",e),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsxs)(T.gC,{children:[(0,t.jsx)(T.eb,{value:"breakfast",children:"Breakfast"}),(0,t.jsx)(T.eb,{value:"lunch",children:"Lunch"}),(0,t.jsx)(T.eb,{value:"dinner",children:"Dinner"}),(0,t.jsx)(T.eb,{value:"snack",children:"Snack"})]})]})]})]}),(0,t.jsx)("div",{className:"grid grid-cols-6 gap-1 text-center p-2 rounded-lg bg-muted/50",children:[{i:_.A,c:"amber",l:"kcal",v:p.calories,f:0},{i:W.A,c:"red",l:"Protein",v:p.protein,f:0,u:"g"},{i:Y.A,c:"blue",l:"Fat",v:p.fat,f:0,u:"g"},{i:X.A,c:"orange",l:"Carbs",v:p.carbs,f:0,u:"g"},{i:K.A,c:"green",l:"Fiber",v:p.fiber,f:1,u:"g"},{i:Z.A,c:"red",l:"UPF",v:p.avgUpf,f:0,u:"%"}].map(e=>(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,t.jsx)(e.i,{className:(0,i.cn)("h-4 w-4 text-".concat(e.c,"-400"))}),(0,t.jsxs)("span",{className:"text-sm font-bold",children:[e.v.toFixed(e.f),e.u||""]}),(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground -mt-1",children:e.l})]},e.l))}),(0,t.jsx)(eS,{items:x,onRemove:e=>{v("items",x.filter((a,l)=>l!==e))},onReasoningClick:e=>d(e)}),(0,t.jsxs)(n.$,{variant:"outline",className:"w-full",onClick:()=>u(!0),children:[(0,t.jsx)(M.A,{className:"mr-2 h-4 w-4"})," Add Food to Meal"]})]}),c&&m&&(0,t.jsx)(ef,{isOpen:c,onClose:()=>u(!1),onAddItems:e=>{if(!e||0===e.length)return void u(!1);v("items",[...x,...e.map(e=>{let{food:a,upf:l}=(e=>{var a,l,t,s,r,n;let i=e||{},o=(e=>{switch(e){case F.SX.UPF:return"red";case F.SX.PROCESSED:return"yellow";case F.SX.UNPROCESSED_OR_MINIMALLY_PROCESSED:case F.SX.PROCESSED_CULINARY_INGREDIENTS:default:return"green"}})(null==(a=i.upfAnalysis)?void 0:a.rating),d=i.upfAnalysis?{classification:o,reasoning:i.upfAnalysis.justification||"No reasoning provided.",score:(null==(l=i.upfPercentage)?void 0:l.value)||0}:null,c={},u=Array.isArray(i.nutrients)?i.nutrients:[];u.forEach(e=>{e&&e.name&&"Energy"!==e.name&&(c[e.name]={value:e.amount||0,unit:e.unitName||""})});let m=u.find(e=>{var a;return"Energy"===e.name&&(null==(a=e.unitName)?void 0:a.toUpperCase())==="KCAL"}),h=u.find(e=>{var a;return"Energy"===e.name&&(null==(a=e.unitName)?void 0:a.toUpperCase())==="KJ"});m?c.Energy={value:m.amount||0,unit:"kcal"}:h&&(c.Energy={value:(h.amount||0)/4.184,unit:"kcal"});let g=(i.portionSizes||i.servingOptions||[]).map(e=>({label:e.description||"Serving",grams:e.gramWeight||100})),x=null!=(s=null==(t=i.glutenAnalysis)?void 0:t.isGlutenFree)&&s;return{upf:d,food:{fdcId:null!=(r=i.fdcId)?r:0,description:null!=(n=i.description)?n:"No Description",brandOwner:i.brandOwner,ingredients:i.ingredients,nutrients:c,servingOptions:g,attributes:{isGlutenFree:x}}}})(e);return{food:a,upf:l,quantity:e.quantity,unit:e.unit}})]),u(!1)},userId:m.uid}),o&&(0,t.jsxs)(A.d,{isOpen:!!o,onClose:()=>d(null),title:"UPF Reasoning",description:"Here's why this food received its rating:",children:[(0,t.jsx)("p",{className:"text-sm",children:o}),(0,t.jsx)("div",{className:"pt-4 flex justify-end",children:(0,t.jsx)(n.$,{onClick:()=>d(null),children:"Close"})})]})]})};var eF=l(45458),eT=l(31120);let eD=[{value:0,label:"0 - Stuffed"},{value:1,label:"1 - Overly Full"},{value:2,label:"2 - Satiated"},{value:3,label:"3 - Barely Satiated"},{value:4,label:"4 - Not Hungry, Not Full"},{value:5,label:"5 - Neutral"},{value:6,label:"6 - Slightly Hungry"},{value:7,label:"7 - Hungry"},{value:8,label:"8 - Very Hungry"},{value:9,label:"9 - Famished"},{value:10,label:"10 - Starving"}],eI=e=>{let{value:a,onValueChange:l,label:s="Hunger Level (0-10)"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:s}),(0,t.jsxs)(T.l6,{value:String(a),onValueChange:e=>l(Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select level"})}),(0,t.jsx)(T.gC,{children:eD.map(e=>(0,t.jsx)(T.eb,{value:String(e.value),children:e.label},e.value))})]})]})},eE={cardio:["Running","Walking","Cycling","Swimming","HIIT","Elliptical","Other"],strength:["Weightlifting","Bodyweight","Pilates","TRX","Kettlebell","Other"],"mind-body":["Yoga","Meditation","Stretching","Tai Chi","Breathwork","Other"]},eP=[{value:"very-light",label:"Very Light"},{value:"light",label:"Light"},{value:"moderate",label:"Moderate"},{value:"vigorous",label:"Vigorous"},{value:"maximum",label:"Maximum"}];function eL(e){let{onFormStateChange:a,formState:l}=e,s=(e,l)=>{a({[e]:l}),"category"===e&&a({activityType:""})};return(0,t.jsxs)("div",{className:"space-y-3 p-1",children:[(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(D.tU,{value:l.category,onValueChange:e=>s("category",e),children:(0,t.jsxs)(D.j7,{className:"grid w-full grid-cols-3",children:[(0,t.jsx)(D.Xi,{value:"cardio",children:"Cardio"}),(0,t.jsx)(D.Xi,{value:"strength",children:"Strength"}),(0,t.jsx)(D.Xi,{value:"mind-body",children:"Mind-Body"})]})})}),l.category&&(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)(T.l6,{value:l.activityType,onValueChange:e=>s("activityType",e),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select an activity..."})}),(0,t.jsx)(T.gC,{children:eE[l.category].map(e=>(0,t.jsx)(T.eb,{value:e,children:e},e))})]}),"Other"===l.activityType&&(0,t.jsx)(p.p,{placeholder:"Specify other activity",value:l.otherActivityType,onChange:e=>s("otherActivityType",e.target.value)})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Duration (min)"}),(0,t.jsx)(eF.d,{value:l.duration,onChange:e=>s("duration",""===e?0:e)})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Intensity"}),(0,t.jsxs)(T.l6,{value:l.intensity,onValueChange:e=>s("intensity",e),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Intensity"})}),(0,t.jsx)(T.gC,{children:eP.map(e=>(0,t.jsx)(T.eb,{value:e.value,children:e.label},e.value))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-x-2 gap-y-2",children:[(0,t.jsx)(eI,{value:l.hungerBefore,onValueChange:e=>s("hungerBefore",e),label:"Hunger Before"}),(0,t.jsx)(eI,{value:l.hungerAfter,onValueChange:e=>s("hungerAfter",e),label:"Hunger After"})]}),(0,t.jsx)(eT.T,{value:l.notes,onChange:e=>s("notes",e.target.value),placeholder:"Notes (e.g., felt great, a little tired...)"})]})}let eR=(e,a)=>Array.from({length:a-e+1},(a,l)=>e+l),eO=[{value:0,label:"0 - Stuffed"},{value:1,label:"1 - Overly Full"},{value:2,label:"2 - Satiated"},{value:3,label:"3 - Barely Satiated"},{value:4,label:"4 - Not Hungry, Not Full"},{value:5,label:"5 - Neutral"},{value:6,label:"6 - Slightly Hungry"},{value:7,label:"7 - Hungry"},{value:8,label:"8 - Very Hungry"},{value:9,label:"9 - Famished"},{value:10,label:"10 - Starving"}],eH=e=>{let{value:a,onValueChange:l,label:s="Hunger Level (0-10)"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:s}),(0,t.jsxs)(T.l6,{value:String(a),onValueChange:e=>l(Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select level"})}),(0,t.jsx)(T.gC,{children:eO.map(e=>(0,t.jsx)(T.eb,{value:String(e.value),children:e.label},e.value))})]})]})},ez=e=>{let{onFormStateChange:a,formState:l}=e,{duration:s=8,quality:r=4,hunger:n=3,wakingStress:i=3,notes:o=""}=l||{},d=(e,l)=>{a({[e]:l})};return(0,t.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Duration (hrs)"}),(0,t.jsx)(eF.d,{value:s,onChange:e=>d("duration",""===e?0:e),step:"0.25",placeholder:"e.g., 8"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Quality (1-5)"}),(0,t.jsxs)(T.l6,{value:String(r),onValueChange:e=>d("quality",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select quality..."})}),(0,t.jsx)(T.gC,{children:eR(1,5).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(eH,{value:n,onValueChange:e=>d("hunger",e),label:"Waking Hunger"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Waking Stress (1-10)"}),(0,t.jsxs)(T.l6,{value:String(i),onValueChange:e=>d("wakingStress",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select stress level..."})}),(0,t.jsx)(T.gC,{children:eR(1,10).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Night Time Routine Before Sleep"}),(0,t.jsx)(eT.T,{value:o,onChange:e=>d("notes",e.target.value),placeholder:"e.g., read a book, meditated, watched TV..."})]})]})};var eU=l(44846),eV=l(86259),eq=l(41546),eG=l(46767),eB=l(61270),eJ=l(26615);let e$=[{value:0,label:"0 - Stuffed"},{value:1,label:"1 - Overly Full"},{value:2,label:"2 - Satiated"},{value:3,label:"3 - Barely Satiated"},{value:4,label:"4 - Not Hungry, Not Full"},{value:5,label:"5 - Neutral"},{value:6,label:"6 - Slightly Hungry"},{value:7,label:"7 - Hungry"},{value:8,label:"8 - Very Hungry"},{value:9,label:"9 - Famished"},{value:10,label:"10 - Starving"}],e_=e=>{let{value:a,onValueChange:l,label:s="Hunger Level (0-10)"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:s}),(0,t.jsxs)(T.l6,{value:String(a),onValueChange:e=>l(Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select level"})}),(0,t.jsx)(T.gC,{children:e$.map(e=>(0,t.jsx)(T.eb,{value:String(e.value),children:e.label},e.value))})]})]})};function eW(e){var a;let{clientProfile:l,formState:r,onFormStateChange:o}=e,[d,c]=(0,s.useState)(!1),u=(e,a)=>{o({[e]:a})},m=(null==l?void 0:l.tier)==="free"||(null==l?void 0:l.tier)==="ad-free",h=null==l||null==(a=l.customGoals)?void 0:a.protein;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"space-y-4 p-1",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"How much did you drink?"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eF.d,{value:r.amount||"",onChange:e=>u("amount",""===e?0:Number(e))}),(0,t.jsxs)(T.l6,{value:r.unit||"oz",onValueChange:e=>u("unit",e),children:[(0,t.jsx)(T.bq,{className:"w-[80px]",children:(0,t.jsx)(T.yv,{})}),(0,t.jsxs)(T.gC,{children:[(0,t.jsx)(T.eb,{value:"oz",children:"oz"}),(0,t.jsx)(T.eb,{value:"ml",children:"ml"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 gap-2 pt-2",children:[(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>u("amount",(r.amount||0)+8),children:"+8"}),(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>u("amount",(r.amount||0)+12),children:"+12"}),(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>u("amount",(r.amount||0)+16),children:"+16"}),(0,t.jsx)(n.$,{variant:"outline",size:"sm",onClick:()=>u("amount",(r.amount||0)+20),children:"+20"})]})]}),(0,t.jsx)(e_,{value:r.hunger||5,onValueChange:e=>u("hunger",e)}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(eT.T,{value:r.notes||"",onChange:e=>u("notes",e.target.value),placeholder:"Notes"})}),(0,t.jsx)(eV.w,{}),(0,t.jsx)("h4",{className:"text-center text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:"Hydration Settings"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(f.J,{children:["Daily Goal (",r.unit||"oz",")"]}),(0,t.jsx)(eF.d,{value:r.target||"",onChange:e=>u("target",Number(e)),placeholder:h?"Suggested: ".concat(h," oz"):"Set a daily goal"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Reminders"}),(0,t.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-4 rounded-lg border p-3",m?"border-amber-500/50 bg-amber-500/10":"border-border"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"space-y-0.5",children:[(0,t.jsx)(f.J,{htmlFor:"reminders-switch",className:"text-sm font-medium",children:"Enable Drink Reminders"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Get notifications to help you stay hydrated."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[m&&(0,t.jsx)(eG.Bc,{children:(0,t.jsxs)(eG.m_,{children:[(0,t.jsx)(eG.k$,{asChild:!0,children:(0,t.jsx)(eB.A,{className:"h-4 w-4 text-amber-400"})}),(0,t.jsx)(eG.ZI,{children:(0,t.jsx)("p",{children:"Available on Basic tier and up."})})]})}),(0,t.jsx)(eU.d,{id:"reminders-switch",checked:!!r.remindersEnabled,onCheckedChange:e=>{if(m)return void c(!0);u("remindersEnabled",e),e&&(!r.reminderTimes||0===r.reminderTimes.length)&&u("reminderTimes",["09:00","12:00","15:00"]),e&&"granted"!==Notification.permission&&Notification.requestPermission()}})]})]}),r.remindersEnabled&&!m&&(0,t.jsxs)("div",{className:"space-y-3 pt-2 border-t border-border",children:[(r.reminderTimes||[]).map((e,a)=>(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.p,{type:"time",value:e,onChange:e=>((e,a)=>{let l=[...r.reminderTimes||[]];l[e]=a,u("reminderTimes",l)})(a,e.target.value),className:"flex-1"}),(0,t.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{u("reminderTimes",(r.reminderTimes||[]).filter((e,l)=>l!==a))},children:(0,t.jsx)(eJ.A,{className:"h-4 w-4"})})]},a)),(0,t.jsxs)(n.$,{variant:"outline",size:"sm",className:"w-full",onClick:()=>u("reminderTimes",[...r.reminderTimes||[],"17:00"]),children:[(0,t.jsx)(M.A,{className:"mr-2 h-4 w-4"})," Add Reminder"]})]})]})]})]}),(0,t.jsx)(eq.k,{isOpen:d,onClose:()=>c(!1),requiredTier:F.Kx.Basic,featureName:"Hydration Reminders",reason:"Build consistent hydration habits with gentle reminders."})]})}let eY=e=>{var a;let{onFormStateChange:l,formState:s,clientProfile:r}=e,{weight:n="",waist:i="",notes:o=""}=s||{},d=(e,a)=>{l({[e]:a})},c=(null==r||null==(a=r.onboarding)?void 0:a.units)==="metric"?{weight:"kg",waist:"cm"}:{weight:"lbs",waist:"in"};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Weight"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eF.d,{value:n,onChange:e=>d("weight",""===e?"":e),placeholder:"e.g., 150",className:"flex-1"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:c.weight})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Waist Circumference"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(eF.d,{value:i,onChange:e=>d("waist",""===e?"":e),placeholder:"e.g., 32",className:"flex-1"}),(0,t.jsx)("span",{className:"text-muted-foreground",children:c.waist})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Notes"}),(0,t.jsx)(eT.T,{value:o,onChange:e=>d("notes",e.target.value),placeholder:"Any notes about today's measurements..."})]})]})};var eX=l(48941),eK=l(82111),eZ=l(76140);let eQ=[{value:0,label:"0 - Stuffed"},{value:1,label:"1 - Overly Full"},{value:2,label:"2 - Satiated"},{value:3,label:"3 - Barely Satiated"},{value:4,label:"4 - Not Hungry, Not Full"},{value:5,label:"5 - Neutral"},{value:6,label:"6 - Slightly Hungry"},{value:7,label:"7 - Hungry"},{value:8,label:"8 - Very Hungry"},{value:9,label:"9 - Famished"},{value:10,label:"10 - Starving"}],e0=e=>{let{value:a,onValueChange:l,label:s="Hunger Level (0-10)"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:s}),(0,t.jsxs)(T.l6,{value:String(a),onValueChange:e=>l(Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select level"})}),(0,t.jsx)(T.gC,{children:eQ.map(e=>(0,t.jsx)(T.eb,{value:String(e.value),children:e.label},e.value))})]})]})},e1=()=>{let[e,a]=(0,s.useState)(1200),[l,r]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{let t=null;return l&&e>0?t=setInterval(()=>{a(e=>e-1)},1e3):l||0===e?0===e&&(t&&clearInterval(t),r(!1)):t&&clearInterval(t),()=>{t&&clearInterval(t)}},[l,e]),(0,t.jsxs)("div",{className:"rounded-lg bg-muted p-2 flex items-center justify-between gap-2",children:[(0,t.jsx)("p",{className:"font-mono text-3xl font-bold tracking-widest",children:(()=>{let a=Math.floor(e/60),l=e%60;return"".concat(String(a).padStart(2,"0"),":").concat(String(l).padStart(2,"0"))})()}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(n.$,{onClick:()=>r(!l),variant:"secondary",size:"sm",className:"h-8",children:[l?(0,t.jsx)(eX.A,{className:"mr-2 h-4 w-4"}):(0,t.jsx)(eK.A,{className:"mr-2 h-4 w-4"}),l?"Pause":"Start"]}),(0,t.jsxs)(n.$,{onClick:()=>{r(!1),a(1200)},variant:"destructive",size:"sm",className:"h-8",children:[(0,t.jsx)(eZ.A,{className:"mr-2 h-4 w-4"}),"Reset"]})]})]})},e2=e=>{let{onFormStateChange:a,formState:l}=e,s=(e,l)=>{a({[e]:l})},{mealDescription:r="",preMealHunger:n=5,preMealStress:i=3,postMealHunger:o=2,percentageEaten:d=100,notes:c=""}=l||{};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(p.p,{value:r,onChange:e=>s("mealDescription",e.target.value),placeholder:"Meal Description"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(e0,{value:n,onValueChange:e=>s("preMealHunger",e),label:"Pre-Meal Hunger"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Pre-Meal Stress"}),(0,t.jsxs)(T.l6,{value:String(i),onValueChange:e=>s("preMealStress",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsx)(T.gC,{children:Array.from({length:10},(e,a)=>1+a).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]})]}),(0,t.jsx)("p",{className:"text-xs text-center text-muted-foreground pt-2",children:"Start Timer After Eating 75% of Your Plated Portion and Then Drinking 20 oz of Water"}),(0,t.jsx)(e1,{}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(e0,{value:o,onValueChange:e=>s("postMealHunger",e),label:"Post-Meal Hunger"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Total % Eaten"}),(0,t.jsxs)(T.l6,{value:String(d),onValueChange:e=>s("percentageEaten",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsx)(T.gC,{children:[25,50,75,100].map(e=>(0,t.jsxs)(T.eb,{value:String(e),children:[e,"%"]},e))})]})]})]}),(0,t.jsx)(eT.T,{value:c,onChange:e=>s("notes",e.target.value),placeholder:"Notes"})]})},e5=e=>{let{onFormStateChange:a,formState:l}=e,s=(e,t)=>{a({...l,log:{...l.log,[e]:t}})},{plannedIndulgence:r="",occasion:n="",preDayHydrationGoal:i="",preDayMealPlan:o="",postIndulgenceMeal:d=""}=(null==l?void 0:l.log)||{};return(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h4",{className:"text-sm font-semibold text-center text-muted-foreground",children:"The Indulgence"}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(p.p,{value:r,onChange:e=>s("plannedIndulgence",e.target.value),placeholder:"Planned Indulgence"})}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(eT.T,{value:n,onChange:e=>s("occasion",e.target.value),placeholder:"What was the occasion for the indulgence"})}),(0,t.jsx)(eV.w,{}),(0,t.jsx)("h4",{className:"text-sm font-semibold text-center text-muted-foreground",children:"The Preparation"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Pre-Indulgence Hydration Goal"}),(0,t.jsx)(p.p,{value:i,onChange:e=>s("preDayHydrationGoal",e.target.value),placeholder:"e.g., At least 64oz of water"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Pre-Indulgence Meal Plan"}),(0,t.jsx)(eT.T,{value:o,onChange:e=>s("preDayMealPlan",e.target.value),placeholder:"e.g., Protein-rich breakfast & a large salad for lunch to stabilize blood sugar."})]}),(0,t.jsx)(eV.w,{}),(0,t.jsx)("h4",{className:"text-sm font-semibold text-center text-muted-foreground",children:"The Recovery"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.J,{children:"Post-Indulgence Meal Plan"}),(0,t.jsx)(p.p,{value:d,onChange:e=>s("postIndulgenceMeal",e.target.value),placeholder:"e.g., Steak salad"})]})]})},e4=(e,a)=>Array.from({length:a-e+1},(a,l)=>e+l),e3=[{value:0,label:"0 - Stuffed"},{value:1,label:"1 - Overly Full"},{value:2,label:"2 - Satiated"},{value:3,label:"3 - Barely Satiated"},{value:4,label:"4 - Not Hungry, Not Full"},{value:5,label:"5 - Neutral"},{value:6,label:"6 - Slightly Hungry"},{value:7,label:"7 - Hungry"},{value:8,label:"8 - Very Hungry"},{value:9,label:"9 - Famished"},{value:10,label:"10 - Starving"}],e6=e=>{let{value:a,onValueChange:l,label:s="Hunger Level (0-10)"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:s}),(0,t.jsxs)(T.l6,{value:String(a),onValueChange:e=>l(Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select level"})}),(0,t.jsx)(T.gC,{children:e3.map(e=>(0,t.jsx)(T.eb,{value:String(e.value),children:e.label},e.value))})]})]})},e8=e=>{let{formState:a,onFormStateChange:l}=e,{activeTab:s="craving",severity:r=3,stress:n=5,hunger:i=7,manualSleep:o="",manualHydration:d="",craving:c="",outcome:u="",bingeFood:m="",triggers:h=""}=a||{},g=(e,t)=>{l({...a,[e]:t})},x=(0,t.jsxs)("div",{className:"space-y-3 pt-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)(e6,{value:i,onValueChange:e=>g("hunger",e)}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Stress Level (1-10)"}),(0,t.jsxs)(T.l6,{value:String(n),onValueChange:e=>g("stress",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsx)(T.gC,{children:e4(1,10).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Sleep Last Night (hrs)"}),(0,t.jsx)(eF.d,{value:o,onChange:e=>g("manualSleep",e),placeholder:"e.g., 8"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Hydration Today (oz)"}),(0,t.jsx)(eF.d,{value:d,onChange:e=>g("manualHydration",e),placeholder:"e.g., 64"})]})]}),(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(eT.T,{value:h,onChange:e=>g("triggers",e.target.value),placeholder:"Suspected Triggers (e.g., boredom, argument...)"})})]});return(0,t.jsxs)(D.tU,{value:s,onValueChange:e=>g("activeTab",e),children:[(0,t.jsxs)(D.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(D.Xi,{value:"craving",children:"Log a Craving"}),(0,t.jsx)(D.Xi,{value:"binge",children:"Log a Binge"})]}),(0,t.jsxs)(D.av,{value:"craving",className:"space-y-3 p-1 pt-4",children:[(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(eT.T,{value:c,onChange:e=>g("craving",e.target.value),placeholder:"What are you craving?"})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Craving Severity (1-5)"}),(0,t.jsxs)(T.l6,{value:String(r),onValueChange:e=>g("severity",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsx)(T.gC,{children:e4(1,5).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]}),(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(eT.T,{value:u,onChange:e=>g("outcome",e.target.value),placeholder:"Outcome (e.g., I had a healthy alternative...)"})}),x]}),(0,t.jsxs)(D.av,{value:"binge",className:"space-y-3 p-1 pt-4",children:[(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(eT.T,{value:m,onChange:e=>g("bingeFood",e.target.value),placeholder:"What did you binge on? (List foods and quantities...)"})}),(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(eT.T,{value:u,onChange:e=>g("outcome",e.target.value),placeholder:"Outcome & Next Step (e.g., I stopped and drank water...)"})}),x]})]})},e9=(e,a)=>Array.from({length:a-e+1},(a,l)=>e+l),e7=[{value:0,label:"0 - Stuffed"},{value:1,label:"1 - Overly Full"},{value:2,label:"2 - Satiated"},{value:3,label:"3 - Barely Satiated"},{value:4,label:"4 - Not Hungry, Not Full"},{value:5,label:"5 - Neutral"},{value:6,label:"6 - Slightly Hungry"},{value:7,label:"7 - Hungry"},{value:8,label:"8 - Very Hungry"},{value:9,label:"9 - Famished"},{value:10,label:"10 - Starving"}],ae=e=>{let{value:a,onValueChange:l,label:s="Hunger Level (0-10)"}=e;return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:s}),(0,t.jsxs)(T.l6,{value:String(a),onValueChange:e=>l(Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{placeholder:"Select level"})}),(0,t.jsx)(T.gC,{children:e7.map(e=>(0,t.jsx)(T.eb,{value:String(e.value),children:e.label},e.value))})]})]})},aa=e=>{let{formState:a,onFormStateChange:l}=e,s=(e,t)=>{l({...a,[e]:t})},{activeTab:r="event",manualSleep:n="",manualHydration:i="",stressLevel:o=5,trigger:d="",strategy:c="",stressLevelBefore:u=5,stressLevelAfter:m=3,hungerLevel:h=5,notes:g=""}=a||{},x=(0,t.jsxs)("div",{className:"space-y-3 pt-3",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Sleep Last Night (hrs)"}),(0,t.jsx)(p.p,{type:"number",value:n,onChange:e=>s("manualSleep",e.target.value),placeholder:"e.g., 8"})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Hydration Today (oz)"}),(0,t.jsx)(p.p,{type:"number",value:i,onChange:e=>s("manualHydration",e.target.value),placeholder:"e.g., 64"})]})]}),(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)(eT.T,{value:g,onChange:e=>s("notes",e.target.value),placeholder:"Notes"})})]});return(0,t.jsxs)(D.tU,{value:r,onValueChange:e=>s("activeTab",e),children:[(0,t.jsxs)(D.j7,{className:"grid w-full grid-cols-2",children:[(0,t.jsx)(D.Xi,{value:"event",children:"Log Stress Event"}),(0,t.jsx)(D.Xi,{value:"relief",children:"Log Stress Relief"})]}),(0,t.jsxs)(D.av,{value:"event",className:"space-y-3 p-1 pt-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Stress Level (1-10)"}),(0,t.jsxs)(T.l6,{value:String(o),onValueChange:e=>s("stressLevel",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsx)(T.gC,{children:e9(1,10).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]}),(0,t.jsx)(ae,{value:h,onValueChange:e=>s("hungerLevel",e)})]}),(0,t.jsx)(eT.T,{value:d,onChange:e=>s("trigger",e.target.value),placeholder:"Trigger"}),x]}),(0,t.jsxs)(D.av,{value:"relief",className:"space-y-3 p-1 pt-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Relief Strategy"}),(0,t.jsx)(p.p,{value:c,onChange:e=>s("strategy",e.target.value),placeholder:"e.g., meditation, walk, hobby"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Stress Before"}),(0,t.jsxs)(T.l6,{value:String(u),onValueChange:e=>s("stressLevelBefore",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsx)(T.gC,{children:e9(1,10).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(f.J,{children:"Stress After"}),(0,t.jsxs)(T.l6,{value:String(m),onValueChange:e=>s("stressLevelAfter",Number(e)),children:[(0,t.jsx)(T.bq,{children:(0,t.jsx)(T.yv,{})}),(0,t.jsx)(T.gC,{children:e9(1,10).map(e=>(0,t.jsx)(T.eb,{value:String(e),children:e},e))})]})]})]}),x]})]})};function al(e){let{isOpen:a,onClose:l,title:s,description:r,actions:i}=e,o=(0,t.jsx)("div",{className:"flex items-center justify-end gap-2 w-full",children:i.map((e,a)=>(0,t.jsx)(n.$,{onClick:e.onClick,variant:e.variant||"outline",size:"sm",className:"flex-shrink-0 ".concat(e.className||""),children:e.label},a))});return(0,t.jsx)(A.d,{isOpen:a,onClose:l,title:s,description:r,footer:o,children:(0,t.jsx)("div",{})})}let at=e=>{let{date:a,setDate:l}=e,r=function(){let[e,a]=(0,s.useState)(!1),[l,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(!0);let e=()=>{a(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),!!l&&e}();if(!(a instanceof Date)||isNaN(a.getTime()))return console.error("Invalid date passed to DateTimePicker",a),(0,t.jsx)("div",{children:"Invalid Date"});let n=e=>{let[t,s]=e.split(":").map(Number),r=new Date(a);r.setHours(t),r.setMinutes(s),l(r)};return r?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1",children:[(0,t.jsx)(p.p,{type:"date",value:(0,g.GP)(a,"yyyy-MM-dd"),onChange:e=>(e=>{let[t,s,r]=e.split("-").map(Number),n=new Date(a);n.setFullYear(t,s-1,r),l(n)})(e.target.value),className:"w-auto h-8 p-1 text-xs border-input bg-transparent text-white"}),(0,t.jsx)("div",{className:"h-4 w-px bg-border"}),(0,t.jsx)(p.p,{type:"time",value:(0,g.GP)(a,"HH:mm"),onChange:e=>n(e.target.value),className:"w-auto h-8 p-1 text-xs border-input bg-transparent text-white"})]}):(0,t.jsxs)("div",{className:"flex items-center justify-center gap-1 text-xs text-white",children:[(0,t.jsxs)(m.AM,{children:[(0,t.jsx)(m.Wv,{asChild:!0,children:(0,t.jsxs)("div",{className:"flex h-7 items-center justify-start gap-1 rounded-md border border-input bg-transparent px-2 text-left font-normal cursor-pointer",children:[(0,t.jsx)(o.A,{className:"h-3 w-3 text-white"}),(0,t.jsx)("span",{children:(0,g.GP)(a,"MMM d")})]})}),(0,t.jsx)(m.hl,{className:"w-auto p-0",children:(0,t.jsx)(h.V,{mode:"single",selected:a,onSelect:e=>l(e||new Date),initialFocus:!0})})]}),(0,t.jsx)("div",{className:"h-4 w-px bg-border"}),(0,t.jsxs)("div",{className:"relative flex h-7 items-center justify-start gap-1 rounded-md border border-input bg-transparent px-2",children:[(0,t.jsx)(d.A,{className:"h-3 w-3 text-white"}),(0,t.jsx)(p.p,{type:"time",value:(0,g.GP)(a,"HH:mm"),onChange:e=>n(e.target.value),className:"h-full w-full appearance-none border-none bg-transparent p-0 focus:ring-0 focus-visible:ring-0"})]})]})};function as(e){let{open:a,onOpenChange:l,pillar:o,initialData:d,onDelete:m,userId:h,clientProfile:p,onSwitchPillar:y}=e,{toast:M}=(0,b.dj)(),{user:F,userProfile:T}=(0,N.A)(),D=(0,r.useRouter)(),[I,E]=(0,s.useState)(!1),[P,L]=(0,s.useState)(new Date),[R,O]=(0,s.useState)(null),[H,z]=(0,s.useState)(!0),[U,V]=(0,s.useState)({}),[q,G]=(0,s.useState)(null),[B,J]=(0,s.useState)(!1),[$,_]=(0,s.useState)(!1),[W,Y]=(0,s.useState)({title:"",description:""}),X=h||(null==F?void 0:F.uid),K=null==d?void 0:d.id,[Z,Q]=(0,s.useState)("");(0,s.useEffect)(()=>{Q(Intl.DateTimeFormat().resolvedOptions().timeZone)},[]);let ee=(0,s.useCallback)(e=>{V(a=>({...a,...e}))},[]),ea=(0,s.useCallback)((e,a,l,t)=>{var s,r,n,i,o,d,c,u,m,h;let{lastNightSleep:g,todaysHydration:x}=l||{};switch(e){case"hydration":return{amount:(null==a?void 0:a.amount)||"",hunger:(null==a?void 0:a.hunger)||5,notes:(null==a?void 0:a.notes)||"",target:(null==a?void 0:a.target)||(null==t||null==(s=t.hydrationSettings)?void 0:s.target)||0,unit:(null==a?void 0:a.unit)||(null==t||null==(r=t.hydrationSettings)?void 0:r.unit)||"oz"};case"sleep":return{duration:(null==a?void 0:a.duration)||8,quality:(null==a?void 0:a.quality)||4,hunger:(null==a?void 0:a.hunger)||3,wakingStress:(null==a?void 0:a.wakingStress)||3,notes:(null==a?void 0:a.notes)||""};case"activity":return{category:(null==a?void 0:a.category)||"cardio",activityType:(null==a?void 0:a.activityType)||"",otherActivityType:(null==a?void 0:a.activityType)==="Other"?a.activityType:"",duration:(null==a?void 0:a.duration)||"",intensity:(null==a?void 0:a.intensity)||"moderate",hungerBefore:(null==a?void 0:a.hungerBefore)||4,hungerAfter:(null==a?void 0:a.hungerAfter)||6,notes:(null==a?void 0:a.notes)||""};case"measurements":return{weight:(null==a?void 0:a.weight)||"",waist:(null==a?void 0:a.waist)||"",notes:(null==a?void 0:a.notes)||""};case"protocol":return{mealDescription:(null==a?void 0:a.mealDescription)||"",preMealHunger:(null==a?void 0:a.preMealHunger)||5,preMealStress:(null==a?void 0:a.preMealStress)||3,sleepLastNight:null!=(i=null!=(n=null==a?void 0:a.sleepLastNight)?n:g)?i:8,hydrationToday:null!=(d=null!=(o=null==a?void 0:a.hydrationToday)?o:x)?d:64,postMealHunger:(null==a?void 0:a.postMealHunger)||2,percentageEaten:(null==a?void 0:a.percentageEaten)||100,notes:(null==a?void 0:a.notes)||""};case"planner":return{log:{plannedIndulgence:(null==a?void 0:a.plannedIndulgence)||"",occasion:(null==a?void 0:a.occasion)||"",preDayHydrationGoal:(null==a?void 0:a.preDayHydrationGoal)||"",preDayMealPlan:(null==a?void 0:a.preDayMealPlan)||"",postIndulgenceMeal:(null==a?void 0:a.postIndulgenceMeal)||"",initialHunger:(null==a?void 0:a.initialHunger)||5}};case"stress":return{activeTab:(null==a?void 0:a.type)||"event",manualSleep:null!=(c=null==a?void 0:a.sleepLastNight)?c:null!=g?g:"",manualHydration:null!=(u=null==a?void 0:a.hydrationToday)?u:null!=x?x:"",stressLevel:(null==a?void 0:a.stressLevel)||5,trigger:(null==a?void 0:a.trigger)||"",strategy:(null==a?void 0:a.strategy)||"",stressLevelBefore:(null==a?void 0:a.stressLevelBefore)||5,stressLevelAfter:(null==a?void 0:a.stressLevelAfter)||3,hungerLevel:(null==a?void 0:a.hungerLevel)||5,notes:(null==a?void 0:a.notes)||""};case"cravings":return{activeTab:(null==a?void 0:a.type)||"craving",severity:(null==a?void 0:a.severity)||3,stress:(null==a?void 0:a.stress)||5,hunger:(null==a?void 0:a.hunger)||7,manualSleep:null!=(m=null==a?void 0:a.sleepLastNight)?m:null!=g?g:"",manualHydration:null!=(h=null==a?void 0:a.hydrationToday)?h:null!=x?x:"",craving:(null==a?void 0:a.craving)||"",outcome:(null==a?void 0:a.outcome)||"",bingeFood:(null==a?void 0:a.bingeFood)||"",triggers:(null==a?void 0:a.triggers)||""};case"nutrition":return{mealType:(null==a?void 0:a.mealType)||"snack",hungerBefore:(null==a?void 0:a.hungerBefore)||5,items:(null==a?void 0:a.items)||[],notes:(null==a?void 0:a.notes)||""};default:return{}}},[]);(0,s.useEffect)(()=>{a&&o&&(async()=>{z(!0);let e=p||T;O(e);let a=await S(X||"");V(l=>{let t=l.pillarId!==o.id,s=l.logId!==K;return 0===Object.keys(l).length||t||s?{...ea(o.id,d,a,e),pillarId:o.id,logId:K}:l});let l=new Date;if(K&&(null==d?void 0:d.entryDate)){let e=new Date(d.entryDate);l="sleep"===o.id&&d.duration?(0,x.L)(e,d.duration):e}L(l),z(!1)})()},[a,null==o?void 0:o.id,K,X,T,p,d,ea]);let el=(0,s.useMemo)(()=>{if(!o||!o.quotes||0===o.quotes.length)return null;let e=Math.floor(Math.random()*o.quotes.length);return o.quotes[e]},[o]),et={craving:{title:"Your Craving Logged – Let's Reflect on This",description:"Thanks for noting this – tracking your cravings is a solid way to tune into what your body might be signaling. It could be something like thirst disguising itself as hunger or a bit of stress building up in the background. To ease it, try sipping some water to check if hydration helps clear the signal, or a quick breathing exercise like inhaling for 4 counts and exhaling for 6 to bring some calm. If it feels right, a short walk could also shift your energy and provide a natural lift."},binge:{title:"Your Binge Logged – A Moment to Reset",description:"It's a practical step toward understanding patterns and moving ahead. Binges often build from factors like not getting enough rest, being dehydrated, and being placed in stressful situations which can throw off your hunger signals, or accumulated tension making decisions tougher. To help reset, consider drinking some water to rehydrate and steady things out, or try a simple stress relief technique such as progressive muscle relaxation, starting from your toes and working up. Adding a bit of movement, like a casual stroll, could also help release endorphins and bring back some balance."},stress:{title:"Your Stress Logged – Time to Ease In",description:"Noting stress levels is a useful way to spot what might be influencing your day. Stress can sometimes heighten hunger feelings or spark cravings by ramping up cortisol, which affects how your body processes signals. To dial it back, try hydrating with a few sips of water to support steady energy, or a quick activity like stretching your arms and shoulders to loosen up. A straightforward breathing method, such as focusing on slow inhales and exhales, could also help bring things back to center."}};if(!o)return null;let es=async()=>{if(E(!0),!X){M({variant:"destructive",title:"Authentication Error",description:"Could not verify your user session."}),E(!1);return}let e={},a=new Date;switch(o.id){case"hydration":e={amount:U.amount||0,hunger:U.hunger,notes:U.notes||"",target:U.target,unit:U.unit,entryDate:P};break;case"sleep":let t=new Date(P);e={duration:U.duration,quality:U.quality,hunger:U.hunger,wakingStress:U.wakingStress,notes:U.notes||"",isNap:!1,wakeUpDay:(0,v.o)(t),entryDate:new Date(t.getTime()-60*(U.duration||0)*6e4)};break;case"activity":e={category:U.category,activityType:U.activityType,duration:U.duration,intensity:U.intensity,hungerBefore:U.hungerBefore,hungerAfter:U.hungerAfter,notes:U.notes||"",entryDate:P};break;case"nutrition":let s=U.mealSummary||{},r={totalMealCalories:s.calories||0,totalMealUpfCalories:(s.calories||0)*((s.avgUpf||0)/100),allNutrients:s.fullNutrientProfile||{}};e={mealType:U.mealType,hungerBefore:U.hungerBefore,notes:U.notes||"",items:(U.items||[]).map(e=>{let{portionSizes:a,...l}=e;return l}),summary:r,entryDate:P};break;case"measurements":e={weight:U.weight,waist:U.waist,notes:U.notes||"",entryDate:P};break;case"protocol":e={mealDescription:U.mealDescription,preMealHunger:U.preMealHunger,preMealStress:U.preMealStress,sleepLastNight:U.sleepLastNight,hydrationToday:U.hydrationToday,postMealHunger:U.postMealHunger,percentageEaten:U.percentageEaten,notes:U.notes||"",entryDate:P};break;case"planner":e={...U.log,indulgenceDate:P,entryDate:P};break;case"stress":e={type:U.activeTab,hungerLevel:U.hungerLevel,notes:U.notes,sleepLastNight:""===U.manualSleep?null:Number(U.manualSleep),hydrationToday:""===U.manualHydration?null:Number(U.manualHydration),stressLevel:U.stressLevel,trigger:U.trigger,strategy:U.strategy,stressLevelBefore:U.stressLevelBefore,stressLevelAfter:U.stressLevelAfter,entryDate:P};break;case"cravings":e={type:U.activeTab,hunger:U.hunger,stress:U.stress,sleepLastNight:""===U.manualSleep?null:Number(U.manualSleep),hydrationToday:""===U.manualHydration?null:Number(U.manualHydration),triggers:U.triggers,severity:U.severity,craving:U.craving,outcome:U.outcome,bingeFood:U.bingeFood,entryDate:P};break;default:M({variant:"destructive",title:"Error",description:"Could not determine the pillar type to save."}),E(!1);return}if(e.uid=X,e.pillar=o.id,K||(e.createdAt=a),!Object.keys(e).filter(e=>!["uid","pillar","createdAt","entryDate","wakeUpDay","indulgenceDate"].includes(e)).some(a=>{let l=e[a];return!(null==l||""===l||Array.isArray(l)&&0===l.length)&&("object"!=typeof l||null===l||0!==Object.keys(l).length)})){M({title:"No Data Entered",description:"Please enter a value to save."}),E(!1);return}try{let a=await j(o.id,{log:e},X,K);if(a.success){M({title:"Entry ".concat(K?"Updated":"Saved","!"),description:"".concat(o.label," data has been successfully saved.")}),Z&&X&&await (0,C.d)(X,(0,g.GP)(P,"yyyy-MM-dd"),Z,P.getTimezoneOffset()),D.refresh();let a="cravings"===o.id?U.activeTab:"stress"===o.id&&"event"===U.activeTab?"stress":null;a&&et[a]?(Y(et[a]),_(!0)):l(!0),"measurements"===o.id&&e.waist>0&&X&&await w(X,e.waist)}else{var n;throw Error((null==(n=a.error)?void 0:n.toString())||"Failed to save data.")}}catch(e){console.error("Error saving data:",e),M({variant:"destructive",title:"Error Saving Entry",description:"Could not save. Reason: ".concat(e.message||"Please try again.")})}finally{E(!1)}},er=e=>{y&&(_(!1),y(e))},en={nutrition:eM,activity:eL,sleep:ez,stress:aa,hydration:eW,protocol:e2,planner:e5,cravings:e8,measurements:eY}[o.id],ei=["nutrition","hydration","protocol","planner","cravings","stress"].includes(o.id),eo="".concat(K?"Edit":"Log"," ").concat(o.label),ed=K?"Update Entry":"Save Entry",ec=(0,t.jsxs)("div",{className:"flex items-center gap-2 w-full",children:[K&&m&&(0,t.jsxs)(n.$,{onClick:m,variant:"destructive",size:"sm",className:"flex-shrink-0",children:[(0,t.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"Delete"]}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(n.$,{onClick:()=>l(!1),variant:"outline",size:"sm",className:"flex-shrink-0",children:"Dismiss"}),(0,t.jsxs)(n.$,{onClick:es,size:"sm",className:"flex-shrink-0 text-white bg-green-500 hover:bg-green-600",disabled:I||H,children:[(I||H)&&(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2 animate-spin"}),ed]})]});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.d,{isOpen:a&&!$,onClose:()=>l(!1),title:eo,description:el||void 0,className:(0,i.cn)("sm:max-w-lg",ei?"h-[90dvh]":"h-auto"),footer:ec,children:(0,t.jsxs)("div",{className:"space-y-1",children:["planner"!==o.id&&(0,t.jsxs)("div",{className:"flex-shrink-0 flex justify-center py-1",children:[(0,t.jsx)(f.J,{className:"text-xs mr-2",children:"sleep"===o.id?"Wake Up Time":"Entry Time"}),(0,t.jsx)(at,{date:P,setDate:L})]}),"planner"===o.id&&(0,t.jsxs)("div",{className:"flex-shrink-0 flex justify-center py-1",children:[(0,t.jsx)(f.J,{className:"text-xs mr-2",children:"Date of Indulgence"}),(0,t.jsx)(at,{date:P,setDate:L})]}),H?(0,t.jsx)("div",{className:"flex-1 flex items-center justify-center h-64",children:(0,t.jsx)(u.A,{className:"w-8 h-8 animate-spin"})}):en?(0,t.jsx)(en,{pillar:o,entryDate:P,initialData:d,clientProfile:R,formState:U,onFormStateChange:ee,userId:X}):(0,t.jsx)("div",{className:"text-center p-8",children:"This form is under construction."})]})}),q&&B&&(0,t.jsx)(k,{message:q,onClose:()=>J(!1)}),$&&(0,t.jsx)(al,{isOpen:$,onClose:()=>{_(!1),l(!1)},title:W.title,description:W.description,actions:[{label:"Log Hydration",onClick:()=>er("hydration"),className:"bg-blue-400 hover:bg-blue-500 text-white border-transparent"},{label:"Log Activity",onClick:()=>er("activity"),className:"bg-orange-400 hover:bg-orange-500 text-white border-transparent"},{label:"Log Stress Relief",onClick:()=>er("stress"),className:"bg-green-400 hover:bg-green-500 text-white border-transparent"}]})]})}},80991:(e,a,l)=>{l.d(a,{k:()=>i});var t=l(95155),s=l(12115),r=l(77450),n=l(64269);let i=s.forwardRef((e,a)=>{let{className:l,value:s,...i}=e;return(0,t.jsx)(r.bL,{ref:a,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",l),...i,children:(0,t.jsx)(r.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(s||0),"%)")}})})});i.displayName=r.bL.displayName},88566:(e,a,l)=>{l.d(a,{Kx:()=>s,SX:()=>n,qc:()=>r});var t=l(98734),s=function(e){return e.Free="free",e.AdFree="ad-free",e.Basic="basic",e.Premium="premium",e.Coaching="coaching",e}({});let r=["free","ad-free","basic","premium","coaching"];var n=function(e){return e.WHOLE_FOOD="whole_food",e.PROCESSED="processed",e.UPF="UPF",e.UNCLASSIFIED="UNCLASSIFIED",e.UNPROCESSED_OR_MINIMALLY_PROCESSED="UNPROCESSED_OR_MINIMALLY_PROCESSED",e.PROCESSED_CULINARY_INGREDIENTS="PROCESSED_CULINARY_INGREDIENTS",e}({});let i=t.Ik({rating:t.fc(n),justification:t.Yj()}),o=t.Ik({isGlutenFree:t.zM(),justification:t.Yj()}),d=t.Ik({value:t.ai(),justification:t.Yj()}),c=t.Ik({description:t.Yj(),gramWeight:t.ai()}),u=t.YO(c),m=t.Ik({id:t.ai().optional(),name:t.Yj(),amount:t.ai(),unitName:t.Yj()});t.Ik({fdcId:t.ai(),description:t.Yj(),brandOwner:t.Yj().optional(),ingredients:t.Yj().optional(),nutrients:t.YO(m),source:t.k5(["AI_ANALYSIS","USER_PROVIDED"]),analysisDate:t.Yj(),upfAnalysis:i,glutenAnalysis:o.optional(),upfPercentage:d,portionSizes:u,createdAt:t.bz().optional(),updatedAt:t.bz().optional()}).extend({quantity:t.ai(),unit:t.Yj(),calories:t.ai()})},89988:(e,a,l)=>{l.d(a,{a:()=>s});var t=l(30926);let s=(0,t.createServerReference)("705c2700640e8ddfe84a7dab5c858f1372c8c9ec89",t.callServer,void 0,t.findSourceMapURL,"createStripeCheckoutSession")},92658:(e,a,l)=>{l.d(a,{A:()=>s});var t=l(30926);let s=(0,t.createServerReference)("40dc354c4557887fd727e2e287f37407a65ba54ef8",t.callServer,void 0,t.findSourceMapURL,"deleteCalendarEvent")},95409:(e,a,l)=>{l.d(a,{d:()=>i});var t=l(95155),s=l(51834);l(12115);var r=l(64269),n=l(17037);function i(e){let{isOpen:a,onClose:l,title:i,description:o,children:d,className:c,footer:u}=e;return(0,t.jsx)(s.lG,{open:a,onOpenChange:l,children:(0,t.jsxs)(s.Cf,{className:(0,r.cn)("w-[90vw] max-w-4xl h-[90dvh] flex flex-col p-0",c),children:[(0,t.jsxs)(s.c7,{className:"p-4 border-b flex-shrink-0",children:[(0,t.jsx)(s.L3,{children:i}),o&&(0,t.jsx)(s.rr,{children:o})]}),(0,t.jsx)("div",{className:"flex-1 min-h-0",children:(0,t.jsx)(n.F,{className:"h-full",children:(0,t.jsx)("div",{className:"p-4",children:d})})}),u&&(0,t.jsx)("div",{className:"p-4 border-t flex-shrink-0",children:u})]})})}},98053:(e,a,l)=>{l.d(a,{$v:()=>x,EO:()=>u,Lt:()=>o,Rx:()=>v,Zr:()=>p,ck:()=>h,r7:()=>g,wd:()=>m});var t=l(95155),s=l(12115),r=l(52498),n=l(64269),i=l(3998);let o=r.bL;r.l9;let d=r.ZL,c=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(r.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...s,ref:a})});c.displayName=r.hJ.displayName;let u=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsxs)(d,{children:[(0,t.jsx)(c,{}),(0,t.jsx)(r.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-[90vw] max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",l),...s})]})});u.displayName=r.UC.displayName;let m=e=>{let{className:a,...l}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...l})};m.displayName="AlertDialogHeader";let h=e=>{let{className:a,...l}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...l})};h.displayName="AlertDialogFooter";let g=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(r.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold",l),...s})});g.displayName=r.hE.displayName;let x=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(r.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",l),...s})});x.displayName=r.VY.displayName;let v=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(r.rc,{ref:a,className:(0,n.cn)((0,i.r)(),l),...s})});v.displayName=r.rc.displayName;let p=s.forwardRef((e,a)=>{let{className:l,...s}=e;return(0,t.jsx)(r.ZD,{ref:a,className:(0,n.cn)((0,i.r)({variant:"outline"}),"mt-2 sm:mt-0",l),...s})});p.displayName=r.ZD.displayName}}]);